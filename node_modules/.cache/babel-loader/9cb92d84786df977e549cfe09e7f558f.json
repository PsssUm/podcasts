{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Touch from '../Touch/Touch';\nimport classNames from '../../lib/classNames';\nimport getClassName from '../../helpers/getClassName';\nvar baseClassNames = getClassName('Slider');\n\nfunction precisionRound(number, precision) {\n  var factor = Math.pow(10, precision || 1);\n  return Math.round(number * factor) / factor;\n}\n\nvar Slider =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Slider, _Component);\n\n  function Slider(props) {\n    var _this;\n\n    _classCallCheck(this, Slider);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Slider).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"onStart\", function (e) {\n      var absolutePosition = _this.validateAbsolute(e.startX - _this.state.containerLeft);\n\n      var percentPosition = _this.absoluteToPecent(absolutePosition);\n\n      _this.onChange(_this.percentToValue(percentPosition), e);\n\n      if (_this.isControlledOutside) {\n        _this.setState({\n          startX: absolutePosition\n        });\n      } else {\n        _this.setState({\n          startX: absolutePosition,\n          percentPosition: percentPosition\n        });\n      }\n\n      _this.setState({\n        active: !!e.originalEvent.target.closest('.Slider__thumb')\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onMoveX\", function (e) {\n      var absolutePosition = _this.validateAbsolute(_this.state.startX + (e.shiftX || 0));\n\n      var percentPosition = _this.absoluteToPecent(absolutePosition);\n\n      _this.onChange(_this.percentToValue(percentPosition), e);\n\n      if (!_this.isControlledOutside) {\n        _this.setState({\n          percentPosition: percentPosition\n        });\n      }\n\n      e.originalEvent.preventDefault();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onEnd\", function () {\n      _this.setState({\n        active: false\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onResize\", function (callback) {\n      _this.setState({\n        containerLeft: _this.container.offsetLeft,\n        containerWidth: _this.container.offsetWidth\n      }, function () {\n        typeof callback === 'function' && callback();\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getRef\", function (container) {\n      _this.container = container;\n      var getRootRef = _this.props.getRootRef;\n\n      if (getRootRef) {\n        if (typeof getRootRef === 'function') {\n          getRootRef(container);\n        } else {\n          getRootRef.current = container;\n        }\n      }\n    });\n\n    _this.state = {\n      startX: 0\n    };\n    _this.isControlledOutside = _this.props.hasOwnProperty('value');\n    return _this;\n  }\n\n  _createClass(Slider, [{\n    key: \"onChange\",\n    value: function onChange(value, e) {\n      this.props.onChange && this.props.onChange(value, e);\n    }\n  }, {\n    key: \"validateAbsolute\",\n    value: function validateAbsolute(absolute) {\n      var res = Math.max(0, Math.min(absolute, this.state.containerWidth));\n\n      if (this.props.step > 0) {\n        var stepCount = (this.props.max - this.props.min) / this.props.step;\n        var absStep = this.state.containerWidth / stepCount;\n        res = Math.round(res / absStep) * absStep;\n      }\n\n      return res;\n    }\n  }, {\n    key: \"validatePercent\",\n    value: function validatePercent(percent) {\n      return Math.max(0, Math.min(percent, 100));\n    }\n  }, {\n    key: \"absoluteToPecent\",\n    value: function absoluteToPecent(absolute) {\n      return absolute * 100 / this.state.containerWidth;\n    }\n  }, {\n    key: \"percentToValue\",\n    value: function percentToValue(percent) {\n      var res = percent * (this.props.max - this.props.min) / 100 + this.props.min;\n\n      if (this.props.step > 0) {\n        var stepFloatPart = \"\".concat(this.props.step).split('.')[1] || '';\n        return precisionRound(res, stepFloatPart.length);\n      }\n\n      return res;\n    }\n  }, {\n    key: \"valueToPercent\",\n    value: function valueToPercent(value) {\n      return (value - this.props.min) * 100 / (this.props.max - this.props.min);\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      window.addEventListener('resize', this.onResize);\n      this.onResize(function () {\n        _this2.setState({\n          percentPosition: _this2.validatePercent(_this2.valueToPercent(_this2.value))\n        });\n      });\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (this.isControlledOutside && this.props.value !== prevProps.value) {\n        this.setState({\n          percentPosition: this.validatePercent(this.valueToPercent(this.props.value))\n        });\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      window.removeEventListener('resize', this.onResize);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          className = _this$props.className,\n          min = _this$props.min,\n          max = _this$props.max,\n          step = _this$props.step,\n          value = _this$props.value,\n          defaultValue = _this$props.defaultValue,\n          onChange = _this$props.onChange,\n          getRootRef = _this$props.getRootRef,\n          restProps = _objectWithoutProperties(_this$props, [\"className\", \"min\", \"max\", \"step\", \"value\", \"defaultValue\", \"onChange\", \"getRootRef\"]);\n\n      return React.createElement(\"div\", _extends({}, restProps, {\n        className: classNames(baseClassNames, className),\n        ref: this.getRef\n      }), React.createElement(Touch, {\n        onStart: this.onStart,\n        onMoveX: this.onMoveX,\n        onEnd: this.onEnd,\n        className: \"Slider__in\"\n      }, React.createElement(\"div\", {\n        className: \"Slider__dragger\",\n        style: {\n          width: this.state.percentPosition + '%'\n        }\n      }, React.createElement(\"span\", {\n        className: classNames('Slider__thumb', 'Slider__thumb--end', {\n          'Slider__thumb--active': this.state.active\n        })\n      }))));\n    }\n  }, {\n    key: \"value\",\n    get: function get() {\n      if (this.isControlledOutside) {\n        return this.props.value;\n      } else if (this.props.hasOwnProperty('defaultValue')) {\n        return this.props.defaultValue;\n      } else {\n        return this.props.min;\n      }\n    }\n  }]);\n\n  return Slider;\n}(Component);\n\n_defineProperty(Slider, \"propTypes\", {\n  min: PropTypes.number,\n  max: PropTypes.number,\n  value: PropTypes.number,\n  step: PropTypes.number,\n  onChange: PropTypes.func,\n  defaultValue: PropTypes.number,\n  className: PropTypes.string,\n  style: PropTypes.object,\n  getRootRef: PropTypes.oneOfType([PropTypes.func, PropTypes.shape({\n    current: PropTypes.any\n  })])\n});\n\n_defineProperty(Slider, \"defaultProps\", {\n  min: 0,\n  max: 100,\n  step: 0\n});\n\nexport { Slider as default };","map":{"version":3,"sources":["../../../../src/components/Slider/Slider.js"],"names":["baseClassNames","getClassName","factor","Math","precision","number","Slider","Component","startX","min","PropTypes","max","value","step","onChange","defaultValue","className","style","getRootRef","current","any","absolutePosition","e","percentPosition","active","containerLeft","containerWidth","offsetWidth","callback","absolute","res","stepCount","absStep","percent","stepFloatPart","precisionRound","window","prevProps","restProps","classNames","getRef","width"],"mappings":"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","sourcesContent":["\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Touch from '../Touch/Touch';\nimport classNames from '../../lib/classNames';\nimport getClassName from '../../helpers/getClassName';\n\nconst baseClassNames = getClassName('Slider');\n\nfunction precisionRound (number, precision) {\n  let factor = Math.pow(10, precision || 1);\n  return Math.round(number * factor) / factor;\n}\n\nexport default class Slider extends Component {\n  constructor (props) {\n    super(props);\n    this.state = {\n      startX: 0\n    };\n    this.isControlledOutside = this.props.hasOwnProperty('value');\n  }\n\n  static propTypes = {\n    min: PropTypes.number,\n    max: PropTypes.number,\n    value: PropTypes.number,\n    step: PropTypes.number,\n    onChange: PropTypes.func,\n    defaultValue: PropTypes.number,\n    className: PropTypes.string,\n    style: PropTypes.object,\n    getRootRef: PropTypes.oneOfType([\n      PropTypes.func,\n      PropTypes.shape({ current: PropTypes.any })\n    ])\n  };\n\n  static defaultProps = {\n    min: 0,\n    max: 100,\n    step: 0\n  };\n\n  onStart = e => {\n    const absolutePosition = this.validateAbsolute(e.startX - this.state.containerLeft);\n    const percentPosition = this.absoluteToPecent(absolutePosition);\n\n    this.onChange(this.percentToValue(percentPosition), e);\n\n    if (this.isControlledOutside) {\n      this.setState({ startX: absolutePosition });\n    } else {\n      this.setState({\n        startX: absolutePosition,\n        percentPosition\n      });\n    }\n\n    this.setState({ active: !!e.originalEvent.target.closest('.Slider__thumb') });\n  };\n\n  onMoveX = e => {\n    const absolutePosition = this.validateAbsolute(this.state.startX + (e.shiftX || 0));\n    const percentPosition = this.absoluteToPecent(absolutePosition);\n\n    this.onChange(this.percentToValue(percentPosition), e);\n\n    if (!this.isControlledOutside) {\n      this.setState({ percentPosition });\n    }\n\n    e.originalEvent.preventDefault();\n  };\n\n  onEnd = () => {\n    this.setState({\n      active: false\n    });\n  };\n\n  onResize = (callback) => {\n    this.setState({\n      containerLeft: this.container.offsetLeft,\n      containerWidth: this.container.offsetWidth\n    }, () => {\n      typeof callback === 'function' && callback();\n    });\n  };\n\n  onChange (value, e) {\n    this.props.onChange && this.props.onChange(value, e);\n  }\n\n  validateAbsolute (absolute) {\n    let res = Math.max(0, Math.min(absolute, this.state.containerWidth));\n\n    if (this.props.step > 0) {\n      const stepCount = (this.props.max - this.props.min) / this.props.step;\n      const absStep = this.state.containerWidth / stepCount;\n\n      res = Math.round(res / absStep) * absStep;\n    }\n\n    return res;\n  }\n\n  validatePercent (percent) { return Math.max(0, Math.min(percent, 100)); }\n\n  absoluteToPecent (absolute) { return absolute * 100 / this.state.containerWidth; }\n\n  percentToValue (percent) {\n    const res = percent * (this.props.max - this.props.min) / 100 + this.props.min;\n    if (this.props.step > 0) {\n      const stepFloatPart = `${this.props.step}`.split('.')[1] || '';\n      return precisionRound(res, stepFloatPart.length);\n    }\n    return res;\n  }\n\n  valueToPercent (value) { return (value - this.props.min) * 100 / (this.props.max - this.props.min); }\n\n  get value () {\n    if (this.isControlledOutside) {\n      return this.props.value;\n    } else if (this.props.hasOwnProperty('defaultValue')) {\n      return this.props.defaultValue;\n    } else {\n      return this.props.min;\n    }\n  }\n\n  componentDidMount () {\n    window.addEventListener('resize', this.onResize);\n    this.onResize(() => {\n      this.setState({ percentPosition: this.validatePercent(this.valueToPercent(this.value)) });\n    });\n  }\n\n  componentDidUpdate (prevProps) {\n    if (this.isControlledOutside && this.props.value !== prevProps.value) {\n      this.setState({ percentPosition: this.validatePercent(this.valueToPercent(this.props.value)) });\n    }\n  }\n\n  componentWillUnmount () {\n    window.removeEventListener('resize', this.onResize);\n  }\n\n  getRef = container => {\n    this.container = container;\n\n    const getRootRef = this.props.getRootRef;\n    if (getRootRef) {\n      if (typeof getRootRef === 'function') {\n        getRootRef(container);\n      } else {\n        getRootRef.current = container;\n      }\n    }\n  };\n\n  render () {\n    const { className, min, max, step, value, defaultValue, onChange, getRootRef, ...restProps } = this.props;\n\n    return (\n      <div {...restProps} className={classNames(baseClassNames, className)} ref={this.getRef}>\n        <Touch onStart={this.onStart} onMoveX={this.onMoveX} onEnd={this.onEnd} className=\"Slider__in\">\n          <div className=\"Slider__dragger\" style={{ width: this.state.percentPosition + '%' }}>\n            <span\n              className={classNames('Slider__thumb', 'Slider__thumb--end', {\n                'Slider__thumb--active': this.state.active\n              })}\n            />\n          </div>\n        </Touch>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}