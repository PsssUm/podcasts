{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.Region = void 0;\n\nvar _react = require(\"react\");\n\nvar _useRegionEvent = _interopRequireDefault(require(\"../hooks/useRegionEvent\"));\n\nvar _WaveSurferContext = _interopRequireDefault(require(\"../contexts/WaveSurferContext\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nvar Region = function Region(_ref) {\n  var onOver = _ref.onOver,\n      onLeave = _ref.onLeave,\n      onClick = _ref.onClick,\n      onDoubleClick = _ref.onDoubleClick,\n      onIn = _ref.onIn,\n      onOut = _ref.onOut,\n      onRemove = _ref.onRemove,\n      onUpdate = _ref.onUpdate,\n      onUpdateEnd = _ref.onUpdateEnd,\n      props = _objectWithoutProperties(_ref, [\"onOver\", \"onLeave\", \"onClick\", \"onDoubleClick\", \"onIn\", \"onOut\", \"onRemove\", \"onUpdate\", \"onUpdateEnd\"]);\n\n  var waveSurfer = (0, _react.useContext)(_WaveSurferContext.default);\n  var isRenderedCache = (0, _react.useRef)(false);\n\n  var _useState = (0, _react.useState)(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      regionRef = _useState2[0],\n      setRegionRef = _useState2[1];\n\n  (0, _react.useEffect)(function () {\n    return function () {\n      if (regionRef) {\n        regionRef.remove();\n      }\n    };\n  }, [regionRef]); // TODO: may need some improvements\n\n  (0, _react.useEffect)(function () {\n    if (regionRef) {\n      var update = [\"start\", \"end\", \"color\", \"data\", \"drag\", \"resize\"].reduce(function (result, prop) {\n        if (regionRef[prop] !== props[prop]) {\n          return _objectSpread({}, result, _defineProperty({}, prop, props[prop]));\n        }\n\n        return result;\n      }, {});\n      regionRef.update(update);\n    }\n  }, [props.start, props.end, props.color, props.data, props.resize, props.drag]);\n  (0, _react.useEffect)(function () {\n    if (!isRenderedCache.current && waveSurfer) {\n      isRenderedCache.current = true;\n      var region;\n      region = waveSurfer.regions.list[props.id];\n\n      if (!region) {\n        region = waveSurfer.addRegion(props);\n      }\n\n      setRegionRef(region);\n    } // eslint-disable-next-line\n\n  }, [waveSurfer]);\n  (0, _useRegionEvent.default)(regionRef, \"click\", onClick);\n  (0, _useRegionEvent.default)(regionRef, \"over\", onOver);\n  (0, _useRegionEvent.default)(regionRef, \"leave\", onLeave);\n  (0, _useRegionEvent.default)(regionRef, \"dbclick\", onDoubleClick);\n  (0, _useRegionEvent.default)(regionRef, \"in\", onIn);\n  (0, _useRegionEvent.default)(regionRef, \"out\", onOut);\n  (0, _useRegionEvent.default)(regionRef, \"remove\", onRemove);\n  (0, _useRegionEvent.default)(regionRef, \"update\", onUpdate);\n  (0, _useRegionEvent.default)(regionRef, \"update-end\", onUpdateEnd);\n  return null;\n};\n\nexports.Region = Region;\nvar _default = Region;\nexports.default = _default;","map":{"version":3,"sources":["/Users/spbiphones/Dropbox/projects/web projects/podcasts/node_modules/wavesurfer-react/dist/components/Region.js"],"names":["Object","defineProperty","exports","value","default","Region","_react","require","_useRegionEvent","_interopRequireDefault","_WaveSurferContext","obj","__esModule","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","configurable","writable","_slicedToArray","arr","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","TypeError","Symbol","iterator","prototype","toString","call","_arr","_n","_d","_e","undefined","_i","_s","next","done","err","Array","isArray","_objectWithoutProperties","excluded","_objectWithoutPropertiesLoose","sourceSymbolKeys","indexOf","propertyIsEnumerable","sourceKeys","_ref","onOver","onLeave","onClick","onDoubleClick","onIn","onOut","onRemove","onUpdate","onUpdateEnd","props","waveSurfer","useContext","isRenderedCache","useRef","_useState","useState","_useState2","regionRef","setRegionRef","useEffect","remove","update","reduce","result","prop","start","end","color","data","resize","drag","current","region","regions","list","id","addRegion","_default"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.Region = void 0;\n\nvar _react = require(\"react\");\n\nvar _useRegionEvent = _interopRequireDefault(require(\"../hooks/useRegionEvent\"));\n\nvar _WaveSurferContext = _interopRequireDefault(require(\"../contexts/WaveSurferContext\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nvar Region = function Region(_ref) {\n  var onOver = _ref.onOver,\n      onLeave = _ref.onLeave,\n      onClick = _ref.onClick,\n      onDoubleClick = _ref.onDoubleClick,\n      onIn = _ref.onIn,\n      onOut = _ref.onOut,\n      onRemove = _ref.onRemove,\n      onUpdate = _ref.onUpdate,\n      onUpdateEnd = _ref.onUpdateEnd,\n      props = _objectWithoutProperties(_ref, [\"onOver\", \"onLeave\", \"onClick\", \"onDoubleClick\", \"onIn\", \"onOut\", \"onRemove\", \"onUpdate\", \"onUpdateEnd\"]);\n\n  var waveSurfer = (0, _react.useContext)(_WaveSurferContext.default);\n  var isRenderedCache = (0, _react.useRef)(false);\n\n  var _useState = (0, _react.useState)(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      regionRef = _useState2[0],\n      setRegionRef = _useState2[1];\n\n  (0, _react.useEffect)(function () {\n    return function () {\n      if (regionRef) {\n        regionRef.remove();\n      }\n    };\n  }, [regionRef]); // TODO: may need some improvements\n\n  (0, _react.useEffect)(function () {\n    if (regionRef) {\n      var update = [\"start\", \"end\", \"color\", \"data\", \"drag\", \"resize\"].reduce(function (result, prop) {\n        if (regionRef[prop] !== props[prop]) {\n          return _objectSpread({}, result, _defineProperty({}, prop, props[prop]));\n        }\n\n        return result;\n      }, {});\n      regionRef.update(update);\n    }\n  }, [props.start, props.end, props.color, props.data, props.resize, props.drag]);\n  (0, _react.useEffect)(function () {\n    if (!isRenderedCache.current && waveSurfer) {\n      isRenderedCache.current = true;\n      var region;\n      region = waveSurfer.regions.list[props.id];\n\n      if (!region) {\n        region = waveSurfer.addRegion(props);\n      }\n\n      setRegionRef(region);\n    } // eslint-disable-next-line\n\n  }, [waveSurfer]);\n  (0, _useRegionEvent.default)(regionRef, \"click\", onClick);\n  (0, _useRegionEvent.default)(regionRef, \"over\", onOver);\n  (0, _useRegionEvent.default)(regionRef, \"leave\", onLeave);\n  (0, _useRegionEvent.default)(regionRef, \"dbclick\", onDoubleClick);\n  (0, _useRegionEvent.default)(regionRef, \"in\", onIn);\n  (0, _useRegionEvent.default)(regionRef, \"out\", onOut);\n  (0, _useRegionEvent.default)(regionRef, \"remove\", onRemove);\n  (0, _useRegionEvent.default)(regionRef, \"update\", onUpdate);\n  (0, _useRegionEvent.default)(regionRef, \"update-end\", onUpdateEnd);\n  return null;\n};\n\nexports.Region = Region;\nvar _default = Region;\nexports.default = _default;"]},"metadata":{},"sourceType":"script"}