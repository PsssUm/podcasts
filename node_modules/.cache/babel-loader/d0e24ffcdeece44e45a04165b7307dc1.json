{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\nimport { IS_PLATFORM_IOS } from '../../lib/platform';\nexport var baseClassNames = getClassName('PanelHeader');\n\nvar PanelHeader =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(PanelHeader, _React$Component);\n\n  function PanelHeader() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, PanelHeader);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(PanelHeader)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      ready: false\n    });\n\n    return _this;\n  }\n\n  _createClass(PanelHeader, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var panelId = this.context.panel;\n      this.leftNode = this.document.getElementById('header-left-' + panelId);\n      this.addonNode = this.document.getElementById('header-addon-' + panelId);\n      this.titleNode = this.document.getElementById('header-title-' + panelId);\n      this.rightNode = this.document.getElementById('header-right-' + panelId);\n      this.bgNode = this.document.getElementById('header-bg-' + panelId);\n      var getRef = this.props.getRef;\n\n      if (getRef) {\n        var element = this.document.getElementById(\"panel-header-\".concat(panelId));\n\n        if (typeof getRef === 'function') {\n          getRef(element);\n        } else {\n          getRef.current = element;\n        }\n      }\n\n      this.setState({\n        ready: true\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _classNames, _classNames2, _classNames3, _classNames4, _classNames5;\n\n      var _this$props = this.props,\n          left = _this$props.left,\n          addon = _this$props.addon,\n          children = _this$props.children,\n          right = _this$props.right,\n          theme = _this$props.theme,\n          noShadow = _this$props.noShadow,\n          transparent = _this$props.transparent;\n      var isPrimitive = typeof children === 'string' || typeof children === 'number';\n      return this.state.ready ? [ReactDOM.createPortal(React.createElement(\"div\", {\n        className: classNames('PanelHeader-bg', (_classNames = {}, _defineProperty(_classNames, \"PanelHeader-bg--\".concat(theme), true), _defineProperty(_classNames, 'PanelHeader-bg--tp', transparent), _defineProperty(_classNames, \"PanelHeader-bg--no-shadow\", noShadow || ['bright_light', 'space_gray'].indexOf(this.context.scheme) >= 0), _classNames))\n      }), this.bgNode), ReactDOM.createPortal(React.createElement(\"div\", {\n        className: classNames('PanelHeader-left-in', (_classNames2 = {}, _defineProperty(_classNames2, \"PanelHeader-left-in--\".concat(theme), true), _defineProperty(_classNames2, 'PanelHeader-left-in--tp', transparent), _classNames2))\n      }, left), this.leftNode), IS_PLATFORM_IOS && ReactDOM.createPortal(React.createElement(\"div\", {\n        className: classNames('PanelHeader-addon', (_classNames3 = {}, _defineProperty(_classNames3, \"PanelHeader-addon--\".concat(theme), true), _defineProperty(_classNames3, 'PanelHeader-addon--tp', transparent), _classNames3))\n      }, addon), this.addonNode), ReactDOM.createPortal(React.createElement(\"div\", {\n        className: classNames('PanelHeader-content', (_classNames4 = {}, _defineProperty(_classNames4, \"PanelHeader-content--\".concat(theme), true), _defineProperty(_classNames4, 'PanelHeader-content--tp', transparent), _classNames4))\n      }, isPrimitive ? React.createElement(\"span\", null, children) : children), this.titleNode), ReactDOM.createPortal(React.createElement(\"div\", {\n        className: classNames('PanelHeader-right', (_classNames5 = {}, _defineProperty(_classNames5, \"PanelHeader-right--\".concat(theme), true), _defineProperty(_classNames5, 'PanelHeader-right--tp', transparent), _defineProperty(_classNames5, 'PanelHeader-right--vkapps', this.webviewType === 'vkapps'), _classNames5))\n      }, this.webviewType === 'internal' ? right : null), this.rightNode)] : null;\n    }\n  }, {\n    key: \"document\",\n    get: function get() {\n      return this.context.document || document;\n    }\n  }, {\n    key: \"webviewType\",\n    get: function get() {\n      return this.context.webviewType || 'vkapps';\n    }\n  }]);\n\n  return PanelHeader;\n}(React.Component);\n\n_defineProperty(PanelHeader, \"propTypes\", {\n  left: PropTypes.node,\n\n  /**\n   * iOS only\n   */\n  addon: PropTypes.node,\n  right: PropTypes.node,\n  children: PropTypes.node,\n\n  /**\n   * Вместо `light` используйте `alternate`. Значение `light` устарело и будет удалено в следующей\n   * мажорной версии.\n   */\n  theme: PropTypes.oneOf(['light', 'alternate', 'brand']),\n\n  /**\n   * @ignore\n   */\n  transparent: PropTypes.bool,\n  noShadow: PropTypes.bool,\n  getRef: PropTypes.oneOfType([PropTypes.func, PropTypes.shape({\n    current: PropTypes.any\n  })])\n});\n\n_defineProperty(PanelHeader, \"defaultProps\", {\n  theme: 'brand',\n  transparent: false,\n  noShadow: false\n});\n\n_defineProperty(PanelHeader, \"contextTypes\", {\n  panel: PropTypes.string,\n  document: PropTypes.any,\n  scheme: PropTypes.string,\n  webviewType: PropTypes.oneOf(['vkapps', 'internal'])\n});\n\nexport { PanelHeader as default };","map":{"version":3,"sources":["../../../../src/components/PanelHeader/PanelHeader.js"],"names":["baseClassNames","getClassName","PanelHeader","React","Component","left","PropTypes","addon","right","children","theme","transparent","noShadow","getRef","current","any","panel","document","scheme","webviewType","ready","panelId","element","isPrimitive","classNames","IS_PLATFORM_IOS","ReactDOM"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\n\nimport { IS_PLATFORM_IOS } from '../../lib/platform';\n\nexport const baseClassNames = getClassName('PanelHeader');\n\nexport default class PanelHeader extends React.Component {\n  static propTypes = {\n    left: PropTypes.node,\n    /**\n     * iOS only\n     */\n    addon: PropTypes.node,\n    right: PropTypes.node,\n    children: PropTypes.node,\n    /**\n     * Вместо `light` используйте `alternate`. Значение `light` устарело и будет удалено в следующей\n     * мажорной версии.\n     */\n    theme: PropTypes.oneOf(['light', 'alternate', 'brand']),\n    /**\n     * @ignore\n     */\n    transparent: PropTypes.bool,\n    noShadow: PropTypes.bool,\n    getRef: PropTypes.oneOfType([\n      PropTypes.func,\n      PropTypes.shape({ current: PropTypes.any })\n    ])\n  };\n\n  static defaultProps = {\n    theme: 'brand',\n    transparent: false,\n    noShadow: false\n  };\n\n  static contextTypes = {\n    panel: PropTypes.string,\n    document: PropTypes.any,\n    scheme: PropTypes.string,\n    webviewType: PropTypes.oneOf(['vkapps', 'internal'])\n  };\n\n  state = {\n    ready: false\n  };\n\n  get document () { return this.context.document || document; }\n\n  get webviewType () { return this.context.webviewType || 'vkapps'; }\n\n  componentDidMount () {\n    const panelId = this.context.panel;\n\n    this.leftNode = this.document.getElementById('header-left-' + panelId);\n    this.addonNode = this.document.getElementById('header-addon-' + panelId);\n    this.titleNode = this.document.getElementById('header-title-' + panelId);\n    this.rightNode = this.document.getElementById('header-right-' + panelId);\n    this.bgNode = this.document.getElementById('header-bg-' + panelId);\n\n    const getRef = this.props.getRef;\n    if (getRef) {\n      const element = this.document.getElementById(`panel-header-${panelId}`);\n      if (typeof getRef === 'function') {\n        getRef(element);\n      } else {\n        getRef.current = element;\n      }\n    }\n\n    this.setState({ ready: true });\n  }\n\n  render () {\n    let { left, addon, children, right, theme, noShadow, transparent } = this.props;\n    const isPrimitive = typeof children === 'string' || typeof children === 'number';\n\n    return this.state.ready ? [\n      ReactDOM.createPortal(<div className={classNames('PanelHeader-bg', {\n        [`PanelHeader-bg--${theme}`]: true,\n        'PanelHeader-bg--tp': transparent,\n        [`PanelHeader-bg--no-shadow`]: noShadow || ['bright_light', 'space_gray'].indexOf(this.context.scheme) >= 0\n      })}/>, this.bgNode),\n      ReactDOM.createPortal(<div className={classNames('PanelHeader-left-in', {\n        [`PanelHeader-left-in--${theme}`]: true,\n        'PanelHeader-left-in--tp': transparent\n      })}>{left}</div>, this.leftNode),\n      IS_PLATFORM_IOS && ReactDOM.createPortal(<div className={classNames('PanelHeader-addon', {\n        [`PanelHeader-addon--${theme}`]: true,\n        'PanelHeader-addon--tp': transparent\n      })}>{addon}</div>, this.addonNode),\n      ReactDOM.createPortal(<div className={classNames('PanelHeader-content', {\n        [`PanelHeader-content--${theme}`]: true,\n        'PanelHeader-content--tp': transparent\n      })}>\n        {isPrimitive ? <span>{children}</span> : children}\n      </div>, this.titleNode),\n      ReactDOM.createPortal(<div className={classNames('PanelHeader-right', {\n        [`PanelHeader-right--${theme}`]: true,\n        'PanelHeader-right--tp': transparent,\n        'PanelHeader-right--vkapps': this.webviewType === 'vkapps'\n      })}>{this.webviewType === 'internal' ? right : null}</div>, this.rightNode)\n    ] : null;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}