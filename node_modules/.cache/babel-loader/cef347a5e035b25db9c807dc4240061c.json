{"ast":null,"code":"var _jsxFileName = \"/Users/spbiphones/Dropbox/projects/web projects/podcasts/src/pages/custom_views/Waveform.js\";\nimport React from 'react';\nimport WaveSurfer from 'wavesurfer.js';\nimport { WaveformContianer, Wave, PlayButton } from './Waveform.styled';\n\nclass Waveform extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      playing: false\n    };\n\n    this.handlePlay = () => {\n      this.setState({\n        playing: !this.state.playing\n      });\n      this.waveform.playPause();\n    };\n  }\n\n  componentDidMount() {\n    const track = document.querySelector('#track');\n\n    for (var key in WaveSurfer.util) {\n      // var value = WaveSurfer[key];\n      console.log(\"value = \" + key);\n    }\n\n    this.waveform = WaveSurfer.create({\n      barWidth: 2,\n      cursorWidth: 1,\n      container: '#waveform',\n      backend: 'WebAudio',\n      height: 96,\n      progressColor: '#2D5BFF',\n      responsive: true,\n      waveColor: '#EFEFEF',\n      cursorColor: 'transparent',\n      loopSelection: true\n    });\n    this.waveform.load(\"https://www.mfiles.co.uk/mp3-downloads/gs-cd-track2.mp3\");\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps != this.props.isPlaying && prevProps.isPlaying != this.props.isPlaying) {\n      this.waveform.playPause();\n    }\n  }\n\n  render() {\n    const url = 'https://www.mfiles.co.uk/mp3-downloads/gs-cd-track2.mp3';\n    return React.createElement(WaveformContianer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, React.createElement(Wave, {\n      id: \"waveform\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }), React.createElement(\"audio\", {\n      id: \"track\",\n      src: url,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }));\n  }\n\n}\n\n;\nexport default Waveform;","map":{"version":3,"sources":["/Users/spbiphones/Dropbox/projects/web projects/podcasts/src/pages/custom_views/Waveform.js"],"names":["React","WaveSurfer","WaveformContianer","Wave","PlayButton","Waveform","Component","state","playing","handlePlay","setState","waveform","playPause","componentDidMount","track","document","querySelector","key","util","console","log","create","barWidth","cursorWidth","container","backend","height","progressColor","responsive","waveColor","cursorColor","loopSelection","load","componentDidUpdate","prevProps","props","isPlaying","render","url"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,UAAP,MAAuB,eAAvB;AAEA,SAASC,iBAAT,EAA4BC,IAA5B,EAAkCC,UAAlC,QAAoD,mBAApD;;AAEA,MAAMC,QAAN,SAAuBL,KAAK,CAACM,SAA7B,CAAuC;AAAA;AAAA;AAAA,SACrCC,KADqC,GAC7B;AACNC,MAAAA,OAAO,EAAE;AADH,KAD6B;;AAAA,SAkCrCC,UAlCqC,GAkCxB,MAAM;AACjB,WAAKC,QAAL,CAAc;AAAEF,QAAAA,OAAO,EAAE,CAAC,KAAKD,KAAL,CAAWC;AAAvB,OAAd;AACA,WAAKG,QAAL,CAAcC,SAAd;AACD,KArCoC;AAAA;;AAKrCC,EAAAA,iBAAiB,GAAG;AAClB,UAAMC,KAAK,GAAGC,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAd;;AAEA,SAAI,IAAIC,GAAR,IAAehB,UAAU,CAACiB,IAA1B,EAAgC;AAC/B;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,aAAaH,GAAzB;AACH;;AACE,SAAKN,QAAL,GAAgBV,UAAU,CAACoB,MAAX,CAAkB;AAC/BC,MAAAA,QAAQ,EAAE,CADqB;AAE/BC,MAAAA,WAAW,EAAE,CAFkB;AAG/BC,MAAAA,SAAS,EAAE,WAHoB;AAI/BC,MAAAA,OAAO,EAAE,UAJsB;AAK/BC,MAAAA,MAAM,EAAE,EALuB;AAM/BC,MAAAA,aAAa,EAAE,SANgB;AAO/BC,MAAAA,UAAU,EAAE,IAPmB;AAQ/BC,MAAAA,SAAS,EAAE,SARoB;AAS/BC,MAAAA,WAAW,EAAE,aATkB;AAU/BC,MAAAA,aAAa,EAAE;AAVgB,KAAlB,CAAhB;AAcA,SAAKpB,QAAL,CAAcqB,IAAd,CAAmB,yDAAnB;AACD;;AAEDC,EAAAA,kBAAkB,CAACC,SAAD,EAAW;AAC3B,QAAGA,SAAS,IAAI,KAAKC,KAAL,CAAWC,SAAxB,IAAqCF,SAAS,CAACE,SAAV,IAAuB,KAAKD,KAAL,CAAWC,SAA1E,EAAoF;AAChF,WAAKzB,QAAL,CAAcC,SAAd;AACH;AACF;;AAMDyB,EAAAA,MAAM,GAAG;AACP,UAAMC,GAAG,GAAG,yDAAZ;AAEA,WACE,oBAAC,iBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAIE,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAC,UAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJF,EAKE;AAAO,MAAA,EAAE,EAAC,OAAV;AAAkB,MAAA,GAAG,EAAEA,GAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALF,CADF;AASD;;AAnDoC;;AAoDtC;AAED,eAAejC,QAAf","sourcesContent":["import React from 'react';\nimport WaveSurfer from 'wavesurfer.js';\n\nimport { WaveformContianer, Wave, PlayButton } from './Waveform.styled';\n\nclass Waveform extends React.Component {\n  state = {\n    playing: false,\n  };\n\n  componentDidMount() {\n    const track = document.querySelector('#track');\n\n    for(var key in WaveSurfer.util) {\n\t    // var value = WaveSurfer[key];\n\t    console.log(\"value = \" + key)\n\t}\n    this.waveform = WaveSurfer.create({\n\t      barWidth: 2,\n\t      cursorWidth: 1,\n\t      container: '#waveform',\n\t      backend: 'WebAudio',\n\t      height: 96,\n\t      progressColor: '#2D5BFF',\n\t      responsive: true,\n\t      waveColor: '#EFEFEF',\n\t      cursorColor: 'transparent',\n\t      loopSelection: true\n\t      });\n\n\n    this.waveform.load(\"https://www.mfiles.co.uk/mp3-downloads/gs-cd-track2.mp3\");\n  };\n  \n  componentDidUpdate(prevProps){\n    if(prevProps != this.props.isPlaying && prevProps.isPlaying != this.props.isPlaying){\n        this.waveform.playPause();\n    }\n  }\n  handlePlay = () => {\n    this.setState({ playing: !this.state.playing });\n    this.waveform.playPause();\n  };\n  \n  render() {\n    const url = 'https://www.mfiles.co.uk/mp3-downloads/gs-cd-track2.mp3';\n\n    return (\n      <WaveformContianer>\n        {/* <PlayButton onClick={this.handlePlay} >\n          {!this.state.playing ? 'Play' : 'Pause'}\n        </PlayButton> */}\n        <Wave id=\"waveform\" />\n        <audio id=\"track\" src={url} />\n      </WaveformContianer>\n    );\n  }\n};\n\nexport default Waveform;\n\n\n"]},"metadata":{},"sourceType":"module"}