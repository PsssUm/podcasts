{"ast":null,"code":"import _classCallCheck from\"/Users/spbiphones/Dropbox/projects/web projects/podcasts/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/spbiphones/Dropbox/projects/web projects/podcasts/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/spbiphones/Dropbox/projects/web projects/podcasts/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/spbiphones/Dropbox/projects/web projects/podcasts/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/Users/spbiphones/Dropbox/projects/web projects/podcasts/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/spbiphones/Dropbox/projects/web projects/podcasts/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import{Button}from'@vkontakte/vkui';import'../resources/styles/edit.css';import{View,Panel,Root,PanelHeader}from'@vkontakte/vkui';import play_blue from\"../resources/icons/play_blue.svg\";import pause_gray from\"../resources/icons/pause_gray.svg\";import cut_gray from\"../resources/icons/cut_gray.svg\";import undo_gray from\"../resources/icons/undo_gray.svg\";import music_gray from\"../resources/icons/music_gray.svg\";import music_blue from\"../resources/icons/music_blue.svg\";import volume_grow_gray from\"../resources/icons/volume_grow_gray.svg\";import volume_grow_blue from\"../resources/icons/volume_grow_blue.svg\";import volume_down_gray from\"../resources/icons/volume_down_gray.svg\";import volume_down_blue from\"../resources/icons/volume_down_blue.svg\";import add_circle_24 from\"../resources/icons/add_circle_24.svg\";import{getEpmtyTimecodeModel}from'../utils/Utils';import TimeCodeItem from'./custom_views/TimeCodeItem';import MusicPicker from'./MusicPicker';import Navbar from'../panels/Navbar';import BottomSheetDialog from'./custom_views/BottomSheetDialog';var EditPodcast=/*#__PURE__*/function(_React$Component){_inherits(EditPodcast,_React$Component);function EditPodcast(props){var _this;_classCallCheck(this,EditPodcast);_this=_possibleConstructorReturn(this,_getPrototypeOf(EditPodcast).call(this,props));_this.state={isPlaying:false,isCut:false,isUndo:false,isMusic:false,isGrow:false,isDown:false,timecodes:_this.props.podcast.timecodes,isShowMusicPicker:false,music:undefined,isShowBottomDialog:false};_this.playClicked=_this.playClicked.bind(_assertThisInitialized(_this));_this.cutClicked=_this.cutClicked.bind(_assertThisInitialized(_this));_this.undoClicked=_this.undoClicked.bind(_assertThisInitialized(_this));_this.musicClicked=_this.musicClicked.bind(_assertThisInitialized(_this));_this.growClicked=_this.growClicked.bind(_assertThisInitialized(_this));_this.downClicked=_this.downClicked.bind(_assertThisInitialized(_this));_this.onSave=_this.onSave.bind(_assertThisInitialized(_this));_this.addTimecode=_this.addTimecode.bind(_assertThisInitialized(_this));_this.onDeleteTimeCode=_this.onDeleteTimeCode.bind(_assertThisInitialized(_this));_this.onTimeCodeTitleChanged=_this.onTimeCodeTitleChanged.bind(_assertThisInitialized(_this));_this.onTimeCodeTimeChanged=_this.onTimeCodeTimeChanged.bind(_assertThisInitialized(_this));_this.toogleMusicPicker=_this.toogleMusicPicker.bind(_assertThisInitialized(_this));_this.onMusicPicked=_this.onMusicPicked.bind(_assertThisInitialized(_this));_this.toogleBottomSheet=_this.toogleBottomSheet.bind(_assertThisInitialized(_this));_this.changeMusic=_this.changeMusic.bind(_assertThisInitialized(_this));_this.removeMusic=_this.removeMusic.bind(_assertThisInitialized(_this));_this.onCloseBottom=_this.onCloseBottom.bind(_assertThisInitialized(_this));return _this;}_createClass(EditPodcast,[{key:\"onCloseBottom\",value:function onCloseBottom(){this.setState({isShowBottomDialog:false});}},{key:\"changeMusic\",value:function changeMusic(){this.setState({isShowMusicPicker:true});}},{key:\"removeMusic\",value:function removeMusic(){this.setState({music:undefined,isMusic:false});}},{key:\"playClicked\",value:function playClicked(){this.setState({isPlaying:!this.state.isPlaying});}},{key:\"cutClicked\",value:function cutClicked(){this.setState({isCut:!this.state.isCut});}},{key:\"undoClicked\",value:function undoClicked(){this.setState({isUndo:!this.state.isUndo});}},{key:\"musicClicked\",value:function musicClicked(){if(!this.state.isMusic){this.toogleMusicPicker();}else{this.toogleBottomSheet();}}},{key:\"growClicked\",value:function growClicked(){this.setState({isGrow:!this.state.isGrow});}},{key:\"downClicked\",value:function downClicked(){this.setState({isDown:!this.state.isDown});}},{key:\"toogleMusicPicker\",value:function toogleMusicPicker(){this.setState({isShowMusicPicker:!this.state.isShowMusicPicker});}},{key:\"toogleBottomSheet\",value:function toogleBottomSheet(){this.setState({isShowBottomDialog:!this.state.isShowBottomDialog});}},{key:\"onSave\",value:function onSave(){var podcast=this.props.podcast;podcast.timecodes=this.state.timecodes;this.props.setPodcast(podcast);this.props.changePage(\"details\");}},{key:\"addTimecode\",value:function addTimecode(){var newTimeCode=getEpmtyTimecodeModel(\"11:22\");var timecodes=this.state.timecodes;timecodes.push(newTimeCode);this.setState({timecodes:timecodes});}},{key:\"onDeleteTimeCode\",value:function onDeleteTimeCode(timecode){var timecodes=this.state.timecodes;var index=timecodes.indexOf(timecode);if(index>-1){timecodes.splice(index,1);}this.setState({timecodes:timecodes});}},{key:\"onTimeCodeTitleChanged\",value:function onTimeCodeTitleChanged(title,index){var timecodes=this.state.timecodes;var timecode=timecodes[index];timecode.title=title;timecodes[index]=timecode;this.setState({timecodes:timecodes});}},{key:\"onTimeCodeTimeChanged\",value:function onTimeCodeTimeChanged(time,index){var timecodes=this.state.timecodes;var timecode=timecodes[index];timecode.time=time;timecodes[index]=timecode;this.setState({timecodes:timecodes});}},{key:\"onMusicPicked\",value:function onMusicPicked(music){if(music!=undefined){this.setState({isMusic:true});this.setState({music:music,isShowMusicPicker:false});}}},{key:\"render\",value:function render(){var _this2=this;return React.createElement(\"div\",{className:\"main_content\"},!this.state.isShowMusicPicker&&React.createElement(PanelHeader,null,React.createElement(Navbar,{back:\"details\",onBack:this.props.onBack,title:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435\"})),React.createElement(\"div\",{className:\"navbar_line\"}),React.createElement(\"div\",{className:\"wave_container\"},React.createElement(\"div\",{className:\"edit_waves\"}),React.createElement(\"div\",{className:\"space_beetwen_controlls\"},React.createElement(\"img\",{onClick:this.playClicked,className:\"controlls_icon hover\",src:this.state.isPlaying?pause_gray:play_blue}),React.createElement(\"div\",{className:\"flex\"},React.createElement(\"img\",{onClick:this.cutClicked,style:this.state.isCut?{}:{opacity:'0.4'},className:\"controlls_icon controlls_icon_right hover\",src:cut_gray}),React.createElement(\"img\",{onClick:this.undoClicked,className:\"controlls_icon hover\",style:this.state.isUndo?{}:{opacity:'0.4'},src:undo_gray})),React.createElement(\"div\",{className:\"flex\"},React.createElement(\"img\",{onClick:this.musicClicked,className:\"controlls_icon controlls_icon_right hover\",src:this.state.isMusic?music_blue:music_gray}),React.createElement(\"img\",{onClick:this.growClicked,className:\"controlls_icon controlls_icon_right hover\",src:this.state.isGrow?volume_grow_blue:volume_grow_gray}),React.createElement(\"img\",{onClick:this.downClicked,className:\"controlls_icon hover\",src:this.state.isDown?volume_down_blue:volume_down_gray})))),React.createElement(\"div\",{className:\"container_edit\"},React.createElement(\"p\",{className:\"timecodes_title\"},\"\\u0422\\u0430\\u0439\\u043C\\u043A\\u043E\\u0434\\u044B\"),this.state.timecodes.length>0&&this.state.timecodes.map(function(item,index){return React.createElement(TimeCodeItem,{onTimeCodeTimeChanged:_this2.onTimeCodeTimeChanged,onTimeCodeTitleChanged:_this2.onTimeCodeTitleChanged,onDeleteTimeCode:_this2.onDeleteTimeCode,index:index,timecode:item,key:index});}),React.createElement(\"div\",{onClick:this.addTimecode,className:\"add_timecode_container hover\"},React.createElement(\"img\",{className:\"add_timecode_icon\",src:add_circle_24}),React.createElement(\"p\",{className:\"add_timecode_text\"},\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0442\\u0430\\u0439\\u043C\\u043A\\u043E\\u0434\"))),React.createElement(\"p\",{className:\"timecodes_description\"},\"\\u041E\\u0442\\u043C\\u0435\\u0442\\u043A\\u0438 \\u0432\\u0440\\u0435\\u043C\\u0435\\u043D\\u0438 \\u0441 \\u043D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\\u043C \\u0442\\u0435\\u043C\\u044B. \\u041F\\u043E\\u0437\\u0432\\u043E\\u043B\\u044F\\u044E\\u0442 \\u0441\\u043B\\u0443\\u0448\\u0430\\u0442\\u0435\\u043B\\u044F\\u043C \\u043B\\u0435\\u0433\\u0447\\u0435 \\u043F\\u0443\\u0442\\u0435\\u0448\\u0435\\u0441\\u0442\\u0432\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u043E \\u043F\\u043E\\u0434\\u043A\\u0430\\u0441\\u0442\\u0443.\"),React.createElement(\"div\",{className:\"bottom_button_container\"},React.createElement(\"div\",{className:\"bottom_btn_line\"}),React.createElement(\"div\",{onClick:this.onSave,className:\"large_vk_btn hover\"},\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\")),this.state.isShowMusicPicker&&React.createElement(MusicPicker,{onMusicPicked:this.onMusicPicked,onBack:this.toogleMusicPicker,setPodcast:this.setPodcast,podcast:this.state.podcast,changePage:this.changePage}),this.state.isShowBottomDialog&&React.createElement(BottomSheetDialog,{removeMusic:this.removeMusic,changeMusic:this.changeMusic,onClose:this.onCloseBottom}));}}]);return EditPodcast;}(React.Component);export default EditPodcast;","map":{"version":3,"sources":["/Users/spbiphones/Dropbox/projects/web projects/podcasts/src/pages/EditPodcast.js"],"names":["React","Button","View","Panel","Root","PanelHeader","getEpmtyTimecodeModel","TimeCodeItem","MusicPicker","Navbar","BottomSheetDialog","EditPodcast","props","state","isPlaying","isCut","isUndo","isMusic","isGrow","isDown","timecodes","podcast","isShowMusicPicker","music","undefined","isShowBottomDialog","playClicked","bind","cutClicked","undoClicked","musicClicked","growClicked","downClicked","onSave","addTimecode","onDeleteTimeCode","onTimeCodeTitleChanged","onTimeCodeTimeChanged","toogleMusicPicker","onMusicPicked","toogleBottomSheet","changeMusic","removeMusic","onCloseBottom","setState","setPodcast","changePage","newTimeCode","push","timecode","index","indexOf","splice","title","time","onBack","pause_gray","play_blue","opacity","cut_gray","undo_gray","music_blue","music_gray","volume_grow_blue","volume_grow_gray","volume_down_blue","volume_down_gray","length","map","item","add_circle_24","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Button} from '@vkontakte/vkui';\nimport '../resources/styles/edit.css'\nimport { View, Panel, Root, PanelHeader } from '@vkontakte/vkui';\n\nimport play_blue from '../resources/icons/play_blue.svg'\nimport pause_gray from '../resources/icons/pause_gray.svg'\nimport cut_gray from '../resources/icons/cut_gray.svg'\nimport undo_gray from '../resources/icons/undo_gray.svg'\nimport music_gray from '../resources/icons/music_gray.svg'\nimport music_blue from '../resources/icons/music_blue.svg'\nimport volume_grow_gray from '../resources/icons/volume_grow_gray.svg'\nimport volume_grow_blue from '../resources/icons/volume_grow_blue.svg'\nimport volume_down_gray from '../resources/icons/volume_down_gray.svg'\nimport volume_down_blue from '../resources/icons/volume_down_blue.svg'\nimport add_circle_24 from '../resources/icons/add_circle_24.svg'\nimport { getEpmtyTimecodeModel } from '../utils/Utils';\nimport TimeCodeItem from './custom_views/TimeCodeItem';\nimport MusicPicker from './MusicPicker';\nimport Navbar from '../panels/Navbar';\nimport BottomSheetDialog from './custom_views/BottomSheetDialog';\nclass EditPodcast extends React.Component {\n   \n    constructor(props){\n        super(props)\n        this.state = {\n            isPlaying : false,\n            isCut : false,\n            isUndo : false,\n            isMusic : false,\n            isGrow : false,\n            isDown : false,\n            timecodes : this.props.podcast.timecodes,\n            isShowMusicPicker : false,\n            music : undefined,\n            isShowBottomDialog : false\n        }\n        this.playClicked = this.playClicked.bind(this);\n        this.cutClicked = this.cutClicked.bind(this);\n        this.undoClicked = this.undoClicked.bind(this);\n        this.musicClicked = this.musicClicked.bind(this);\n        this.growClicked = this.growClicked.bind(this);\n        this.downClicked = this.downClicked.bind(this);\n        this.onSave = this.onSave.bind(this);\n        this.addTimecode = this.addTimecode.bind(this);\n        this.onDeleteTimeCode = this.onDeleteTimeCode.bind(this);\n        this.onTimeCodeTitleChanged = this.onTimeCodeTitleChanged.bind(this);\n        this.onTimeCodeTimeChanged = this.onTimeCodeTimeChanged.bind(this);\n        this.toogleMusicPicker = this.toogleMusicPicker.bind(this);\n        this.onMusicPicked = this.onMusicPicked.bind(this);\n        this.toogleBottomSheet = this.toogleBottomSheet.bind(this);\n        this.changeMusic = this.changeMusic.bind(this);\n        this.removeMusic = this.removeMusic.bind(this);\n        this.onCloseBottom = this.onCloseBottom.bind(this);\n    }\n   \n    onCloseBottom(){\n        this.setState({isShowBottomDialog : false})\n    }\n    changeMusic(){\n        this.setState({isShowMusicPicker : true})\n    }\n    removeMusic(){\n        this.setState({music : undefined, isMusic : false})\n    }\n    playClicked(){\n        this.setState({isPlaying : !this.state.isPlaying})\n    }\n    cutClicked(){\n        this.setState({isCut : !this.state.isCut})\n    }\n    undoClicked(){\n        this.setState({isUndo : !this.state.isUndo})\n    }\n    musicClicked(){\n        if (!this.state.isMusic){\n            this.toogleMusicPicker()\n        } else {\n            this.toogleBottomSheet()\n        }\n        \n    }\n    growClicked(){\n        this.setState({isGrow : !this.state.isGrow})\n    }\n    downClicked(){\n        this.setState({isDown : !this.state.isDown})\n    }\n    toogleMusicPicker(){\n        this.setState({isShowMusicPicker : !this.state.isShowMusicPicker})\n    }\n    toogleBottomSheet(){\n        this.setState({isShowBottomDialog : !this.state.isShowBottomDialog})\n    }\n    onSave(){\n        var podcast = this.props.podcast\n        podcast.timecodes = this.state.timecodes\n        this.props.setPodcast(podcast)\n        this.props.changePage(\"details\")\n    }\n    addTimecode(){\n        var newTimeCode = getEpmtyTimecodeModel(\"11:22\")\n        var timecodes = this.state.timecodes\n        timecodes.push(newTimeCode)\n        this.setState({timecodes : timecodes})\n    }\n    onDeleteTimeCode(timecode){\n        var timecodes = this.state.timecodes\n        const index = timecodes.indexOf(timecode);\n        if (index > -1) {\n            timecodes.splice(index, 1);\n        }\n        this.setState({timecodes : timecodes})\n    }\n    onTimeCodeTitleChanged(title, index){\n        var timecodes = this.state.timecodes\n        var timecode = timecodes[index]\n        timecode.title = title\n        timecodes[index] = timecode\n        this.setState({timecodes : timecodes})\n    }\n    onTimeCodeTimeChanged(time, index){\n        var timecodes = this.state.timecodes\n        var timecode = timecodes[index]\n        timecode.time = time\n        timecodes[index] = timecode\n        this.setState({timecodes : timecodes})\n    }\n    onMusicPicked(music){\n        if (music != undefined){\n            this.setState({isMusic : true})\n            this.setState({music : music, isShowMusicPicker : false})\n        }\n        \n    }\n    render() {\n        return (\n            <div className=\"main_content\">\n               {!this.state.isShowMusicPicker && <PanelHeader>\n                    <Navbar back=\"details\" onBack={this.props.onBack} title=\"Редактирование\"/>\n                </PanelHeader>}\n                <div className=\"navbar_line\"/>\n                <div className=\"wave_container\">\n                    <div className=\"edit_waves\">\n\n                    </div>\n                    <div className=\"space_beetwen_controlls\">\n                        <img onClick={this.playClicked} className=\"controlls_icon hover\" src={this.state.isPlaying ? pause_gray : play_blue}/>\n                        <div className=\"flex\">\n                            <img onClick={this.cutClicked} style={this.state.isCut ? {} : {opacity : '0.4'}} className=\"controlls_icon controlls_icon_right hover\" src={cut_gray}/>\n                            <img onClick={this.undoClicked} className=\"controlls_icon hover\" style={this.state.isUndo ? {} : {opacity : '0.4'}} src={undo_gray}/>\n                        </div>\n                        <div className=\"flex\">\n                            <img onClick={this.musicClicked} className=\"controlls_icon controlls_icon_right hover\" src={this.state.isMusic ? music_blue : music_gray}/>\n                            <img onClick={this.growClicked} className=\"controlls_icon controlls_icon_right hover\" src={this.state.isGrow ? volume_grow_blue : volume_grow_gray}/>\n                            <img onClick={this.downClicked} className=\"controlls_icon hover\" src={this.state.isDown ? volume_down_blue : volume_down_gray}/>\n                        </div>\n                    </div>\n\n                </div>\n\n                <div className=\"container_edit\">\n                    <p className=\"timecodes_title\">Таймкоды</p>\n                        {this.state.timecodes.length > 0 && this.state.timecodes.map((item, index) => (\n                            <TimeCodeItem onTimeCodeTimeChanged={this.onTimeCodeTimeChanged} onTimeCodeTitleChanged={this.onTimeCodeTitleChanged} onDeleteTimeCode={this.onDeleteTimeCode} index={index} timecode={item} key={index}/>\n                        ))}\n                    <div onClick={this.addTimecode} className=\"add_timecode_container hover\">\n                        <img className=\"add_timecode_icon\" src={add_circle_24}/>\n                        <p className=\"add_timecode_text\">Добавить таймкод</p>\n                    </div>\n                </div>\n                <p className=\"timecodes_description\">Отметки времени с названием темы. Позволяют слушателям легче путешествовать по подкасту.</p>\n                <div className=\"bottom_button_container\">\n                    <div className=\"bottom_btn_line\"/>\n                    <div onClick={this.onSave} className=\"large_vk_btn hover\">Сохранить</div>\n\n                </div>\n                {this.state.isShowMusicPicker && <MusicPicker onMusicPicked={this.onMusicPicked} onBack={this.toogleMusicPicker} setPodcast={this.setPodcast} podcast={this.state.podcast} changePage={this.changePage}/>}\n                {this.state.isShowBottomDialog && <BottomSheetDialog removeMusic={this.removeMusic} changeMusic={this.changeMusic} onClose={this.onCloseBottom}/>}\n            </div>\n        );\n    }\n}\nexport default EditPodcast;"]},"metadata":{},"sourceType":"module"}