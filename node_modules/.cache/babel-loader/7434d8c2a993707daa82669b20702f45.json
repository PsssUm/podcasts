{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport React from 'react';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\nimport PropTypes from 'prop-types';\nimport { IS_PLATFORM_ANDROID } from '../../lib/platform';\nimport transitionEvents from '../../lib/transitionEvents';\nvar baseClassNames = getClassName('PopoutWrapper');\n\nvar PopoutWrapper =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(PopoutWrapper, _React$Component);\n\n  function PopoutWrapper() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, PopoutWrapper);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(PopoutWrapper)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      opened: false\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onFadeInEnd\", function () {\n      var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n        manual: true\n      };\n\n      if (e.animationName === 'animation-full-fade-in' || e.manual) {\n        _this.setState({\n          opened: true\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"preventTouch\", function (e) {\n      return e.preventDefault();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onClick\", function (e) {\n      return _this.state.opened && _this.props.onClick && _this.props.onClick(e);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getRef\", function (el) {\n      return _this.el = el;\n    });\n\n    return _this;\n  }\n\n  _createClass(PopoutWrapper, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      window.addEventListener('touchmove', this.preventTouch, {\n        passive: false\n      });\n      this.waitAnimationFinish(this.el, this.onFadeInEnd);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      window.removeEventListener('touchmove', this.preventTouch, {\n        passive: false\n      });\n      clearTimeout(this.animationFinishTimeout);\n    }\n  }, {\n    key: \"waitAnimationFinish\",\n    value: function waitAnimationFinish(elem, eventHandler) {\n      if (transitionEvents.supported) {\n        var eventName = transitionEvents.prefix ? transitionEvents.prefix + 'AnimationEnd' : 'animationend';\n        elem.removeEventListener(eventName, eventHandler);\n        elem.addEventListener(eventName, eventHandler);\n      } else {\n        this.animationFinishTimeout = setTimeout(eventHandler.bind(this), IS_PLATFORM_ANDROID ? 300 : 600);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _classNames;\n\n      var _this$props = this.props,\n          v = _this$props.v,\n          h = _this$props.h,\n          closing = _this$props.closing,\n          children = _this$props.children,\n          hasMask = _this$props.hasMask,\n          onClick = _this$props.onClick,\n          className = _this$props.className,\n          restProps = _objectWithoutProperties(_this$props, [\"v\", \"h\", \"closing\", \"children\", \"hasMask\", \"onClick\", \"className\"]);\n\n      return React.createElement(\"div\", _extends({}, restProps, {\n        className: classNames(baseClassNames, (_classNames = {}, _defineProperty(_classNames, \"PopoutWrapper--v-\".concat(v), v), _defineProperty(_classNames, \"PopoutWrapper--h-\".concat(h), h), _defineProperty(_classNames, 'PopoutWrapper--closing', closing), _classNames), className),\n        onClick: this.onClick,\n        ref: this.getRef\n      }), hasMask && React.createElement(\"div\", {\n        className: \"PopoutWrapper__mask\"\n      }), React.createElement(\"div\", {\n        className: \"PopoutWrapper__container\"\n      }, children));\n    }\n  }]);\n\n  return PopoutWrapper;\n}(React.Component);\n\n_defineProperty(PopoutWrapper, \"propTypes\", {\n  hasMask: PropTypes.bool,\n  v: PropTypes.oneOf(['top', 'center', 'bottom']),\n  h: PropTypes.oneOf(['left', 'center', 'right']),\n  closing: PropTypes.bool,\n  onClick: PropTypes.func,\n  style: PropTypes.object,\n  children: PropTypes.node,\n  className: PropTypes.string\n});\n\n_defineProperty(PopoutWrapper, \"defaultProps\", {\n  hasMask: true,\n  v: 'center',\n  h: 'center',\n  closing: false\n});\n\nexport { PopoutWrapper as default };","map":{"version":3,"sources":["../../../../src/components/PopoutWrapper/PopoutWrapper.js"],"names":["baseClassNames","getClassName","PopoutWrapper","React","Component","opened","hasMask","PropTypes","v","h","closing","onClick","style","children","className","string","window","passive","clearTimeout","elem","eventHandler","transitionEvents","eventName","setTimeout","IS_PLATFORM_ANDROID","e","manual","restProps","classNames","getRef"],"mappings":"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","sourcesContent":["import React from 'react';\nimport getClassName from '../../helpers/getClassName';\nimport classNames from '../../lib/classNames';\nimport PropTypes from 'prop-types';\n\nimport { IS_PLATFORM_ANDROID } from '../../lib/platform';\nimport transitionEvents from '../../lib/transitionEvents';\n\nconst baseClassNames = getClassName('PopoutWrapper');\n\nexport default class PopoutWrapper extends React.Component {\n  state = {\n    opened: false\n  };\n\n  static propTypes = {\n    hasMask: PropTypes.bool,\n    v: PropTypes.oneOf(['top', 'center', 'bottom']),\n    h: PropTypes.oneOf(['left', 'center', 'right']),\n    closing: PropTypes.bool,\n    onClick: PropTypes.func,\n    style: PropTypes.object,\n    children: PropTypes.node,\n    className: PropTypes.string\n  };\n\n  static defaultProps = {\n    hasMask: true,\n    v: 'center',\n    h: 'center',\n    closing: false\n  };\n\n  componentDidMount () {\n    window.addEventListener('touchmove', this.preventTouch, { passive: false });\n    this.waitAnimationFinish(this.el, this.onFadeInEnd);\n  }\n\n  componentWillUnmount () {\n    window.removeEventListener('touchmove', this.preventTouch, { passive: false });\n    clearTimeout(this.animationFinishTimeout);\n  }\n\n  waitAnimationFinish (elem, eventHandler) {\n    if (transitionEvents.supported) {\n      const eventName = transitionEvents.prefix ? transitionEvents.prefix + 'AnimationEnd' : 'animationend';\n      elem.removeEventListener(eventName, eventHandler);\n      elem.addEventListener(eventName, eventHandler);\n    } else {\n      this.animationFinishTimeout = setTimeout(eventHandler.bind(this), IS_PLATFORM_ANDROID ? 300 : 600);\n    }\n  }\n\n  onFadeInEnd = (e = { manual: true }) => {\n    if (e.animationName === 'animation-full-fade-in' || e.manual) {\n      this.setState({ opened: true });\n    }\n  };\n\n  preventTouch = e => e.preventDefault();\n\n  onClick = e => this.state.opened && this.props.onClick && this.props.onClick(e);\n\n  getRef = el => this.el = el;\n\n  render () {\n    const { v, h, closing, children, hasMask, onClick, className, ...restProps } = this.props;\n\n    return (\n      <div {...restProps} className={classNames(baseClassNames, {\n        [`PopoutWrapper--v-${v}`]: v,\n        [`PopoutWrapper--h-${h}`]: h,\n        'PopoutWrapper--closing': closing\n      }, className)} onClick={this.onClick} ref={this.getRef}>\n        {hasMask && <div className=\"PopoutWrapper__mask\" />}\n        <div className=\"PopoutWrapper__container\">{children}</div>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}