{"ast":null,"code":"import _classCallCheck from\"/Users/spbiphones/Dropbox/projects/web projects/podcasts/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/spbiphones/Dropbox/projects/web projects/podcasts/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/spbiphones/Dropbox/projects/web projects/podcasts/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/spbiphones/Dropbox/projects/web projects/podcasts/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/spbiphones/Dropbox/projects/web projects/podcasts/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import WaveSurfer from'wavesurfer.js';import{WaveformContianer,Wave,PlayButton}from'./Waveform.styled';var Waveform=/*#__PURE__*/function(_React$Component){_inherits(Waveform,_React$Component);function Waveform(props){var _this;_classCallCheck(this,Waveform);_this=_possibleConstructorReturn(this,_getPrototypeOf(Waveform).call(this,props));_this.handlePlay=function(){_this.setState({playing:!_this.state.playing});_this.waveform.playPause();};return _this;}_createClass(Waveform,[{key:\"componentDidMount\",value:function componentDidMount(){var track=document.querySelector('#track');for(var key in WaveSurfer.util){// var value = WaveSurfer[key];\nconsole.log(\"value = \"+key);}this.waveform=WaveSurfer.create({barWidth:2,cursorWidth:10,container:'#waveform',backend:'WebAudio',height:96,progressColor:'#3F8AE0',responsive:true,waveColor:'#3F8AE0',cursorColor:'transparent',loopSelection:true});this.waveform.load(\"https://www.mfiles.co.uk/mp3-downloads/gs-cd-track2.mp3\");}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){if(prevProps!=this.props.isPlaying&&prevProps.isPlaying!=this.props.isPlaying){this.waveform.playPause();}}},{key:\"render\",value:function render(){var url='https://www.mfiles.co.uk/mp3-downloads/gs-cd-track2.mp3';return React.createElement(WaveformContianer,null,React.createElement(\"div\",{id:\"#wave-timeline\"}),React.createElement(Wave,{id:\"waveform\"}),React.createElement(\"audio\",{id:\"track\",src:url}));}}]);return Waveform;}(React.Component);;export default Waveform;","map":{"version":3,"sources":["/Users/spbiphones/Dropbox/projects/web projects/podcasts/src/pages/custom_views/Waveform.js"],"names":["React","WaveSurfer","WaveformContianer","Wave","PlayButton","Waveform","props","handlePlay","setState","playing","state","waveform","playPause","track","document","querySelector","key","util","console","log","create","barWidth","cursorWidth","container","backend","height","progressColor","responsive","waveColor","cursorColor","loopSelection","load","prevProps","isPlaying","url","Component"],"mappings":"qsBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,UAAP,KAAuB,eAAvB,CAEA,OAASC,iBAAT,CAA4BC,IAA5B,CAAkCC,UAAlC,KAAoD,mBAApD,C,GAEMC,CAAAA,Q,8EACJ,kBAAYC,KAAZ,CAAkB,0CAChB,0EAAMA,KAAN,GADgB,MAkClBC,UAlCkB,CAkCL,UAAM,CACjB,MAAKC,QAAL,CAAc,CAAEC,OAAO,CAAE,CAAC,MAAKC,KAAL,CAAWD,OAAvB,CAAd,EACA,MAAKE,QAAL,CAAcC,SAAd,GACD,CArCiB,cAEjB,C,kFACmB,CAClB,GAAMC,CAAAA,KAAK,CAAGC,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAd,CAEA,IAAI,GAAIC,CAAAA,GAAR,GAAef,CAAAA,UAAU,CAACgB,IAA1B,CAAgC,CAC/B;AACAC,OAAO,CAACC,GAAR,CAAY,WAAaH,GAAzB,EACF,CAEC,KAAKL,QAAL,CAAgBV,UAAU,CAACmB,MAAX,CAAkB,CAC/BC,QAAQ,CAAE,CADqB,CAE/BC,WAAW,CAAE,EAFkB,CAG/BC,SAAS,CAAE,WAHoB,CAI/BC,OAAO,CAAE,UAJsB,CAK/BC,MAAM,CAAE,EALuB,CAM/BC,aAAa,CAAE,SANgB,CAO/BC,UAAU,CAAE,IAPmB,CAQ/BC,SAAS,CAAE,SARoB,CAS/BC,WAAW,CAAE,aATkB,CAU9BC,aAAa,CAAE,IAVe,CAAlB,CAAhB,CAeA,KAAKnB,QAAL,CAAcoB,IAAd,CAAmB,yDAAnB,EACD,C,8DAEkBC,S,CAAU,CAC3B,GAAGA,SAAS,EAAI,KAAK1B,KAAL,CAAW2B,SAAxB,EAAqCD,SAAS,CAACC,SAAV,EAAuB,KAAK3B,KAAL,CAAW2B,SAA1E,CAAoF,CAChF,KAAKtB,QAAL,CAAcC,SAAd,GACH,CACF,C,uCAMQ,CACP,GAAMsB,CAAAA,GAAG,CAAG,yDAAZ,CAEA,MACE,qBAAC,iBAAD,MACE,2BAAK,EAAE,CAAC,gBAAR,EADF,CAKE,oBAAC,IAAD,EAAM,EAAE,CAAC,UAAT,EALF,CAME,6BAAO,EAAE,CAAC,OAAV,CAAkB,GAAG,CAAEA,GAAvB,EANF,CADF,CAUD,C,sBArDoBlC,KAAK,CAACmC,S,EAsD5B,CAED,cAAe9B,CAAAA,QAAf","sourcesContent":["import React from 'react';\nimport WaveSurfer from 'wavesurfer.js';\n\nimport { WaveformContianer, Wave, PlayButton } from './Waveform.styled';\n\nclass Waveform extends React.Component {\n  constructor(props){\n    super(props)\n  }\n  componentDidMount() {\n    const track = document.querySelector('#track');\n\n    for(var key in WaveSurfer.util) {\n\t    // var value = WaveSurfer[key];\n\t    console.log(\"value = \" + key)\n  }\n\n    this.waveform = WaveSurfer.create({\n\t      barWidth: 2,\n\t      cursorWidth: 10,\n\t      container: '#waveform',\n\t      backend: 'WebAudio',\n\t      height: 96,\n\t      progressColor: '#3F8AE0',\n\t      responsive: true,\n\t      waveColor: '#3F8AE0',\n\t      cursorColor: 'transparent',\n        loopSelection: true,\n        \n        });\n\n\n    this.waveform.load(\"https://www.mfiles.co.uk/mp3-downloads/gs-cd-track2.mp3\");\n  };\n  \n  componentDidUpdate(prevProps){\n    if(prevProps != this.props.isPlaying && prevProps.isPlaying != this.props.isPlaying){\n        this.waveform.playPause();\n    }\n  }\n  handlePlay = () => {\n    this.setState({ playing: !this.state.playing });\n    this.waveform.playPause();\n  };\n  \n  render() {\n    const url = 'https://www.mfiles.co.uk/mp3-downloads/gs-cd-track2.mp3';\n\n    return (\n      <WaveformContianer>\n        <div id=\"#wave-timeline\"></div>\n        {/* <PlayButton onClick={this.handlePlay} >\n          {!this.state.playing ? 'Play' : 'Pause'}\n        </PlayButton> */}\n        <Wave id=\"waveform\" />\n        <audio id=\"track\" src={url} />\n      </WaveformContianer>\n    );\n  }\n};\n\nexport default Waveform;\n\n\n"]},"metadata":{},"sourceType":"module"}