{"ast":null,"code":"import _classCallCheck from\"/Users/spbiphones/Dropbox/projects/web projects/podcasts/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/spbiphones/Dropbox/projects/web projects/podcasts/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/spbiphones/Dropbox/projects/web projects/podcasts/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/spbiphones/Dropbox/projects/web projects/podcasts/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/Users/spbiphones/Dropbox/projects/web projects/podcasts/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/spbiphones/Dropbox/projects/web projects/podcasts/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import'../resources/styles/editor.css';import user from\"../resources/icons/user.svg\";import arrow_gray from\"../resources/icons/arrow_gray.svg\";import clock from\"../resources/icons/clock.svg\";import{getDatesCount}from'../utils/Utils';var DonationPostEditor=/*#__PURE__*/function(_React$Component){_inherits(DonationPostEditor,_React$Component);function DonationPostEditor(props){var _this;_classCallCheck(this,DonationPostEditor);_this=_possibleConstructorReturn(this,_getPrototypeOf(DonationPostEditor).call(this,props));_this.state={description:_this.props.donation.description,isSend:_this.props.send};_this.onDescriptionChanged=_this.onDescriptionChanged.bind(_assertThisInitialized(_this));_this.send=_this.send.bind(_assertThisInitialized(_this));_this.isSend=false;return _this;}_createClass(DonationPostEditor,[{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){if(prevProps.send!==this.props.send&&!this.isSend){this.isSend=true;this.send();}}},{key:\"onDescriptionChanged\",value:function onDescriptionChanged(event){if(event){var value=event.target.value;this.setState({description:value});}}},{key:\"send\",value:function send(){var donation=this.props.donation;if(this.state.description!=undefined){donation.description=this.state.description;}this.props.addNews(donation);}},{key:\"render\",value:function render(){return React.createElement(\"div\",{className:\"main_content\"},React.createElement(\"div\",{className:\"editor_input_container\"},React.createElement(\"textarea\",{className:\"editor_input\",onChange:this.onDescriptionChanged,value:this.state.description})),React.createElement(\"div\",{className:\"snippet_card\"},React.createElement(\"img\",{className:\"snippet_image\",src:this.props.donation.image}),React.createElement(\"p\",{className:\"snippet_title\"},this.props.donation.title),React.createElement(\"p\",{className:\"snippet_name\"},this.props.donation.name,\" \\xB7 \",this.props.donation.isTarget?this.props.donation.date>0?\"Закончится через \"+getDatesCount(this.props.donation.date)+\" дн.\":\"Когда соберём сумму\":\"Помощь нужна каждый месяц\"),React.createElement(\"div\",{className:\"snippet_line\"}),React.createElement(\"div\",{className:\"snippet_progress\"},React.createElement(\"div\",{className:\"snippen_progress_cont\"},React.createElement(\"p\",{className:\"snippet_progress_title\"},\"\\u041F\\u043E\\u043C\\u043E\\u0433\\u0438\\u0442\\u0435 \\u043F\\u0435\\u0440\\u0432\\u044B\\u043C\"),React.createElement(\"div\",{className:\"snippet_progress_bg\"})),React.createElement(\"div\",{className:\"snippet_help_btn\"},\"\\u041F\\u043E\\u043C\\u043E\\u0447\\u044C\"))),React.createElement(\"div\",{className:\"horizontal_scroll\"},React.createElement(\"div\",{className:\"gray_item_cont\"},React.createElement(\"div\",{className:\"gray_item\"},React.createElement(\"img\",{className:\"gray_item_icon\",src:user}),React.createElement(\"p\",{className:\"gray_item_text\"},\"\\u0412\\u0438\\u0434\\u043D\\u043E \\u0432\\u0441\\u0435\\u043C\"),React.createElement(\"img\",{className:\"arrow_gray_item\",src:arrow_gray}))),React.createElement(\"div\",{className:\"gray_item_cont\"},React.createElement(\"div\",{className:\"gray_item\"},React.createElement(\"img\",{className:\"gray_item_icon\",src:clock}),React.createElement(\"p\",{className:\"gray_item_text\"},\"\\u0421\\u0435\\u0439\\u0447\\u0430\\u0441\"),React.createElement(\"img\",{className:\"arrow_gray_item\",src:arrow_gray}))),React.createElement(\"div\",{className:\"gray_item_cont\"},React.createElement(\"div\",{className:\"gray_item\"},React.createElement(\"p\",{className:\"gray_item_text gray_text_left\"},\"\\u0422\\u0435\\u043C\\u0430\\u0442\\u0438\\u043A\\u0430\"),React.createElement(\"img\",{className:\"arrow_gray_item\",src:arrow_gray})))));}}]);return DonationPostEditor;}(React.Component);export default DonationPostEditor;","map":{"version":3,"sources":["/Users/spbiphones/Dropbox/projects/web projects/podcasts/src/pages/DonationPostEditor.js"],"names":["React","getDatesCount","DonationPostEditor","props","state","description","donation","isSend","send","onDescriptionChanged","bind","prevProps","event","value","target","setState","undefined","addNews","image","title","name","isTarget","date","user","arrow_gray","clock","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport '../resources/styles/editor.css'\nimport user from '../resources/icons/user.svg'\nimport arrow_gray from '../resources/icons/arrow_gray.svg'\nimport clock from '../resources/icons/clock.svg'\nimport { getDatesCount } from '../utils/Utils';\nclass DonationPostEditor extends React.Component {\n   \n    constructor(props){\n        super(props)\n        this.state = {\n            description : this.props.donation.description,\n            isSend : (this.props.send)\n        }\n        this.onDescriptionChanged = this.onDescriptionChanged.bind(this)\n        this.send = this.send.bind(this)\n        this.isSend = false\n    }\n    componentDidUpdate(prevProps){\n        if (prevProps.send !== this.props.send && !this.isSend){\n            this.isSend = true\n            this.send()\n        }\n    }\n    onDescriptionChanged(event){\n        if (event){\n            var value = event.target.value\n            this.setState({description : value})\n        }\n    }\n   \n    send(){\n        var donation = this.props.donation\n        if (this.state.description != undefined){\n            donation.description = this.state.description\n        }\n        this.props.addNews(donation)\n    }\n    render() {\n        return (\n            <div className=\"main_content\">\n\n                <div className=\"editor_input_container\">\n                    <textarea className=\"editor_input\" onChange={this.onDescriptionChanged} value={this.state.description}/>\n                </div>\n                \n                <div className=\"snippet_card\">\n                    <img className=\"snippet_image\" src={this.props.donation.image}/>\n                    <p className=\"snippet_title\">{this.props.donation.title}</p>\n                    <p className=\"snippet_name\">{this.props.donation.name} · {this.props.donation.isTarget ? this.props.donation.date > 0 ? (\"Закончится через \" + getDatesCount(this.props.donation.date) + \" дн.\") : \"Когда соберём сумму\" : \"Помощь нужна каждый месяц\"}</p>\n                    <div className=\"snippet_line\"/>\n                    <div className=\"snippet_progress\">\n                        <div className=\"snippen_progress_cont\">\n                            <p className=\"snippet_progress_title\">Помогите первым</p>\n                            <div className=\"snippet_progress_bg\"></div>\n                        </div>\n                        <div className=\"snippet_help_btn\">Помочь</div>\n                    </div>\n                </div>\n\n                <div className=\"horizontal_scroll\">\n                    <div className=\"gray_item_cont\">\n                        <div className=\"gray_item\">\n                            <img className=\"gray_item_icon\" src={user}/>\n                            <p className=\"gray_item_text\">Видно всем</p>\n                            <img className=\"arrow_gray_item\" src={arrow_gray}/>\n                        </div>\n                    </div>\n                    <div className=\"gray_item_cont\">\n                        <div className=\"gray_item\">\n                            <img className=\"gray_item_icon\" src={clock}/>\n                            <p className=\"gray_item_text\">Сейчас</p>\n                            <img className=\"arrow_gray_item\" src={arrow_gray}/>\n                        </div>\n                    </div>\n                    \n                    <div className=\"gray_item_cont\">\n                        <div className=\"gray_item\">\n                            <p className=\"gray_item_text gray_text_left\">Тематика</p>\n                            <img className=\"arrow_gray_item\" src={arrow_gray}/>\n                        </div>\n                    </div>\n                    \n                </div>\n                \n            </div>\n        );\n    }\n}\nexport default DonationPostEditor;"]},"metadata":{},"sourceType":"module"}