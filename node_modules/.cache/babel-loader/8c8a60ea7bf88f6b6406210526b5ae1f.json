{"ast":null,"code":"import _classCallCheck from\"/Users/spbiphones/Dropbox/projects/web projects/podcasts/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/spbiphones/Dropbox/projects/web projects/podcasts/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/spbiphones/Dropbox/projects/web projects/podcasts/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/spbiphones/Dropbox/projects/web projects/podcasts/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/Users/spbiphones/Dropbox/projects/web projects/podcasts/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/spbiphones/Dropbox/projects/web projects/podcasts/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import avatar from'../../resources/icons/avatar.png';import more from\"../../resources/icons/more.svg\";import ic_comment_outline from\"../../resources/icons/ic_comment_outline.svg\";import ic_eye from\"../../resources/icons/ic_eye.svg\";import ic_like from\"../../resources/icons/ic_like.svg\";import ic_reposts from\"../../resources/icons/ic_reposts.svg\";import'../../resources/styles/details_styes.css';import{getDatesCount}from'../../utils/Utils';var NewsItem=/*#__PURE__*/function(_React$Component){_inherits(NewsItem,_React$Component);function NewsItem(props){var _this;_classCallCheck(this,NewsItem);_this=_possibleConstructorReturn(this,_getPrototypeOf(NewsItem).call(this,props));_this.animateProgress=function(){_this.step=_this.props.donation.summ/(Math.random()*(100-50)+50);_this.iteration=0;_this.interval=setInterval(_this.animationLoop,50);};_this.animationLoop=function(){if(_this.isAnimate){_this.progress=parseFloat(_this.step*_this.iteration)/_this.props.donation.summ;var progressCount=parseInt(_this.progress*_this.props.donation.summ);var newProgress=_this.progress*_this.progressBg.current.offsetWidth;if(newProgress>_this.progressBg.current.offsetWidth){_this.iteration=0;}else{_this.iteration+=1;}_this.setState({progressWidth:newProgress,progressCount:progressCount});}};_this.state={progressWidth:0,progressCount:0};_this.progressBg=React.createRef();_this.openDetails=_this.openDetails.bind(_assertThisInitialized(_this));_this.isAnimate=true;return _this;}_createClass(NewsItem,[{key:\"componentDidMount\",value:function componentDidMount(){this.animateProgress();}},{key:\"openDetails\",value:function openDetails(){this.props.openDetails(this.props.donation);}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.isAnimate=false;clearInterval(this.interval);}},{key:\"render\",value:function render(){return React.createElement(\"div\",{onClick:this.openDetails,className:\"news_item\"},React.createElement(\"div\",{className:\"just_content\"},React.createElement(\"div\",{className:\"flex\"},React.createElement(\"img\",{className:\"news_item_avatar\",src:avatar}),React.createElement(\"div\",null,React.createElement(\"p\",{className:\"news_name_title\"},this.props.donation.name),React.createElement(\"p\",{className:\"new_time\"},\"\\u0447\\u0430\\u0441 \\u043D\\u0430\\u0437\\u0430\\u0434\"))),React.createElement(\"img\",{className:\"news_more\",src:more})),React.createElement(\"p\",{className:\"news_description_text\"},this.props.donation.description),React.createElement(\"div\",{className:\"snippet_card\"},React.createElement(\"img\",{className:\"snippet_image\",src:this.props.donation.image}),React.createElement(\"p\",{className:\"snippet_title\"},this.props.donation.title),React.createElement(\"p\",{className:\"snippet_name\"},this.props.donation.name,\" \\xB7 \",this.props.donation.isTarget?this.props.donation.date>0?\"Закончится через \"+getDatesCount(this.props.donation.date)+\" дн.\":\"Когда соберём сумму\":\"Помощь нужна каждый месяц\"),React.createElement(\"div\",{className:\"snippet_line\"}),React.createElement(\"div\",{className:\"snippet_progress\"},React.createElement(\"div\",{className:\"snippen_progress_cont\"},React.createElement(\"p\",{className:\"snippet_progress_title\"},this.state.progressCount==0?\"Помогите первым\":\"Собрано \"+this.state.progressCount+\" ₽ из \"+this.props.donation.summ+\" ₽\"),React.createElement(\"div\",{className:\"relative\"},React.createElement(\"div\",{ref:this.progressBg,className:\"snippet_progress_bg\"}),React.createElement(\"div\",{style:{width:this.state.progressWidth+\"px\"},className:\"progress_view\"}))),React.createElement(\"div\",{className:\"snippet_help_btn news_item_help\"},\"\\u041F\\u043E\\u043C\\u043E\\u0447\\u044C\"))),React.createElement(\"div\",{className:\"new_item_details\"},React.createElement(\"div\",{className:\"detail_counters\"},React.createElement(\"img\",{src:ic_like,width:\"24\",className:\"detail_counters_icon\"}),React.createElement(\"div\",{className:\"detail_counters_text\"},\"65 \"),React.createElement(\"img\",{src:ic_comment_outline,width:\"24\",className:\"detail_counters_icon\"}),React.createElement(\"div\",{className:\"detail_counters_text\"},\"36 \"),React.createElement(\"img\",{src:ic_reposts,width:\"21\",className:\"detail_counters_icon\"}),React.createElement(\"div\",{className:\"detail_counters_text\"},\"7 \"),React.createElement(\"div\",{className:\"detail_counters_right\"},React.createElement(\"img\",{src:ic_eye,width:\"14\",className:\"detail_counters_icon\"}),React.createElement(\"div\",{className:\"detail_counters_text_right\"},\"7,2K\")))));}}]);return NewsItem;}(React.Component);export default NewsItem;","map":{"version":3,"sources":["/Users/spbiphones/Dropbox/projects/web projects/podcasts/src/pages/custom_views/NewsItem.js"],"names":["React","avatar","getDatesCount","NewsItem","props","animateProgress","step","donation","summ","Math","random","iteration","interval","setInterval","animationLoop","isAnimate","progress","parseFloat","progressCount","parseInt","newProgress","progressBg","current","offsetWidth","setState","progressWidth","state","createRef","openDetails","bind","clearInterval","name","more","description","image","title","isTarget","date","width","ic_like","ic_comment_outline","ic_reposts","ic_eye","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport avatar from '../../resources/icons/avatar.png'\nimport more from '../../resources/icons/more.svg'\nimport ic_comment_outline from '../../resources/icons/ic_comment_outline.svg'\nimport ic_eye from '../../resources/icons/ic_eye.svg'\nimport ic_like from '../../resources/icons/ic_like.svg'\nimport ic_reposts from '../../resources/icons/ic_reposts.svg'\nimport '../../resources/styles/details_styes.css'\nimport { getDatesCount } from '../../utils/Utils';\nclass NewsItem extends React.Component {\n   \n    constructor(props){\n        super(props)\n        this.state = {\n            progressWidth : 0,\n            progressCount : 0\n        }\n        this.progressBg = React.createRef()\n        this.openDetails = this.openDetails.bind(this)\n        this.isAnimate = true\n    }\n    componentDidMount(){\n        this.animateProgress()\n    }\n    animateProgress = () => {\n        this.step = this.props.donation.summ / (Math.random() * (100 - 50) + 50)\n        this.iteration = 0\n       this.interval = setInterval(this.animationLoop, 50);\n    }\n    animationLoop = () => {\n        if (this.isAnimate){\n            this.progress = parseFloat(this.step*this.iteration) / this.props.donation.summ\n            var progressCount = parseInt(this.progress * this.props.donation.summ)\n            const newProgress = (this.progress * this.progressBg.current.offsetWidth)\n            if (newProgress > this.progressBg.current.offsetWidth){\n                this.iteration = 0\n            } else {\n                this.iteration += 1 \n            }\n            this.setState({progressWidth : newProgress, progressCount : progressCount})\n        }\n    }\n    openDetails(){\n        this.props.openDetails(this.props.donation)\n    }\n    componentWillUnmount(){\n        this.isAnimate = false\n        clearInterval(this.interval);\n    }\n    render() {\n        return (\n            <div onClick={this.openDetails} className=\"news_item\">\n                <div className=\"just_content\">\n                    <div className=\"flex\">\n                        <img className=\"news_item_avatar\" src={avatar}/>\n                        <div>\n                            <p className=\"news_name_title\">{this.props.donation.name}</p>\n                            <p className=\"new_time\">час назад</p>\n                        </div>\n                    </div>\n                    <img className=\"news_more\" src={more}/>\n                </div>\n                <p className=\"news_description_text\">{this.props.donation.description}</p>\n                <div className=\"snippet_card\">\n                    <img className=\"snippet_image\" src={this.props.donation.image}/>\n                    <p className=\"snippet_title\">{this.props.donation.title}</p>\n                    <p className=\"snippet_name\">{this.props.donation.name} · {this.props.donation.isTarget ? this.props.donation.date > 0 ? (\"Закончится через \" + getDatesCount(this.props.donation.date) + \" дн.\") : \"Когда соберём сумму\" : \"Помощь нужна каждый месяц\"}</p>\n                    <div className=\"snippet_line\"/>\n                    <div className=\"snippet_progress\">\n                        <div className=\"snippen_progress_cont\">\n                            <p className=\"snippet_progress_title\">{this.state.progressCount == 0 ? \"Помогите первым\" : (\"Собрано \" + this.state.progressCount + \" ₽ из \" + this.props.donation.summ + \" ₽\")}</p>\n                            <div className=\"relative\">\n                                <div ref={this.progressBg} className=\"snippet_progress_bg\"/>\n                                <div style={{width : (this.state.progressWidth + \"px\")}} className=\"progress_view\"/>\n                            </div>\n                            \n                        </div>\n                        <div className=\"snippet_help_btn news_item_help\">Помочь</div>\n                    </div>\n                </div>\n                <div className=\"new_item_details\">\n                    <div className=\"detail_counters\">\n                        <img src={ic_like} width=\"24\" className=\"detail_counters_icon\"/><div className=\"detail_counters_text\">65 </div>\n                        <img src={ic_comment_outline} width=\"24\" className=\"detail_counters_icon\"/><div className=\"detail_counters_text\">36 </div>\n                        <img src={ic_reposts} width=\"21\" className=\"detail_counters_icon\"/><div className=\"detail_counters_text\">7 </div>\n                        <div className=\"detail_counters_right\">\n                            <img src={ic_eye} width=\"14\" className=\"detail_counters_icon\"/><div className=\"detail_counters_text_right\">7,2K</div>\n                        </div>\n                    </div>\n                </div>\n                \n            </div>\n        );\n    }\n}\nexport default NewsItem;"]},"metadata":{},"sourceType":"module"}