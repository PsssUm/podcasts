{"ast":null,"code":"!function (e, n) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? module.exports = n() : \"function\" == typeof define && define.amd ? define(n) : (e = e || self).vkConnect = n();\n}(this, function () {\n  \"use strict\";\n\n  var _i = function i() {\n    return (_i = Object.assign || function (e) {\n      for (var n, t = 1, o = arguments.length; t < o; t++) {\n        for (var r in n = arguments[t]) {\n          Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);\n        }\n      }\n\n      return e;\n    }).apply(this, arguments);\n  };\n\n  function p(e, n) {\n    var t = {};\n\n    for (var o in e) {\n      Object.prototype.hasOwnProperty.call(e, o) && n.indexOf(o) < 0 && (t[o] = e[o]);\n    }\n\n    if (null != e && \"function\" == typeof Object.getOwnPropertySymbols) {\n      var r = 0;\n\n      for (o = Object.getOwnPropertySymbols(e); r < o.length; r++) {\n        n.indexOf(o[r]) < 0 && Object.prototype.propertyIsEnumerable.call(e, o[r]) && (t[o[r]] = e[o[r]]);\n      }\n    }\n\n    return t;\n  }\n\n  var n = [\"VKWebAppInit\", \"VKWebAppGetCommunityAuthToken\", \"VKWebAppAddToCommunity\", \"VKWebAppGetUserInfo\", \"VKWebAppSetLocation\", \"VKWebAppGetClientVersion\", \"VKWebAppGetPhoneNumber\", \"VKWebAppGetEmail\", \"VKWebAppGetGeodata\", \"VKWebAppSetTitle\", \"VKWebAppGetAuthToken\", \"VKWebAppCallAPIMethod\", \"VKWebAppJoinGroup\", \"VKWebAppAllowMessagesFromGroup\", \"VKWebAppDenyNotifications\", \"VKWebAppAllowNotifications\", \"VKWebAppOpenPayForm\", \"VKWebAppOpenApp\", \"VKWebAppShare\", \"VKWebAppShowWallPostBox\", \"VKWebAppScroll\", \"VKWebAppResizeWindow\", \"VKWebAppShowOrderBox\", \"VKWebAppShowLeaderBoardBox\", \"VKWebAppShowInviteBox\", \"VKWebAppShowRequestBox\", \"VKWebAppAddToFavorites\", \"VKWebAppShowCommunityWidgetPreviewBox\"],\n      a = [],\n      s = null,\n      e = \"undefined\" != typeof window,\n      t = e && window.webkit && void 0 !== window.webkit.messageHandlers && void 0 !== window.webkit.messageHandlers.VKWebAppClose,\n      o = e ? window.AndroidBridge : void 0,\n      r = t ? window.webkit.messageHandlers : void 0,\n      u = e && !o && !r,\n      d = u ? \"message\" : \"VKWebAppEvent\";\n\n  function f(e, n) {\n    var t = n || {\n      bubbles: !1,\n      cancelable: !1,\n      detail: void 0\n    },\n        o = document.createEvent(\"CustomEvent\");\n    return o.initCustomEvent(e, !!t.bubbles, !!t.cancelable, t.detail), o;\n  }\n\n  e && (window.CustomEvent || (window.CustomEvent = (f.prototype = Event.prototype, f)), window.addEventListener(d, function () {\n    for (var n = [], e = 0; e < arguments.length; e++) {\n      n[e] = arguments[e];\n    }\n\n    var t = function () {\n      for (var e = 0, n = 0, t = arguments.length; n < t; n++) {\n        e += arguments[n].length;\n      }\n\n      var o = Array(e),\n          r = 0;\n\n      for (n = 0; n < t; n++) {\n        for (var i = arguments[n], p = 0, a = i.length; p < a; p++, r++) {\n          o[r] = i[p];\n        }\n      }\n\n      return o;\n    }(a);\n\n    if (u && n[0] && \"data\" in n[0]) {\n      var o = n[0].data,\n          r = (o.webFrameId, o.connectVersion, p(o, [\"webFrameId\", \"connectVersion\"]));\n      r.type && \"VKWebAppSettings\" === r.type ? s = r.frameId : t.forEach(function (e) {\n        e({\n          detail: r\n        });\n      });\n    } else t.forEach(function (e) {\n      e.apply(null, n);\n    });\n  }));\n\n  function l(e, n) {\n    void 0 === n && (n = {}), o && \"function\" == typeof o[e] && o[e](JSON.stringify(n)), r && r[e] && \"function\" == typeof r[e].postMessage && r[e].postMessage(n), u && parent.postMessage({\n      handler: e,\n      params: n,\n      type: \"vk-connect\",\n      webFrameId: s,\n      connectVersion: \"1.7.1\"\n    }, \"*\");\n  }\n\n  function c(e) {\n    a.push(e);\n  }\n\n  var b,\n      v,\n      w,\n      A,\n      y = {\n    send: l,\n    subscribe: c,\n    sendPromise: (b = l, v = {\n      current: 0,\n      next: function next() {\n        return this.current += 1, this.current;\n      }\n    }, w = {}, A = {\n      add: function add(e) {\n        var n = v.next();\n        return w[n] = e, n;\n      },\n      resolve: function resolve(e, n, t) {\n        var o = w[e];\n        o && (t(n) ? o.resolve(n) : o.reject(n), w[e] = null);\n      }\n    }, c(function (e) {\n      if (e.detail && e.detail.data) {\n        var n = e.detail.data,\n            t = n.request_id,\n            o = p(n, [\"request_id\"]);\n        t && A.resolve(t, o, function (e) {\n          return !(\"error_type\" in e);\n        });\n      }\n    }), function (o, r) {\n      return new Promise(function (e, n) {\n        var t = A.add({\n          resolve: e,\n          reject: n\n        });\n        b(o, _i(_i({}, r), {\n          request_id: t\n        }));\n      });\n    }),\n    unsubscribe: function unsubscribe(e) {\n      var n = a.indexOf(e);\n      -1 < n && a.splice(n, 1);\n    },\n    isWebView: function isWebView() {\n      return !(!o && !r);\n    },\n    supports: function supports(e) {\n      return !(!o || \"function\" != typeof o[e]) || !(!r || !r[e] || \"function\" != typeof r[e].postMessage) || !(r || o || !n.includes(e));\n    }\n  };\n\n  if (\"object\" != typeof exports || \"undefined\" == typeof module) {\n    var V = null;\n    \"undefined\" != typeof window ? V = window : \"undefined\" != typeof global ? V = global : \"undefined\" != typeof self && (V = self), V && (V.vkConnect = y, V.vkuiConnect = y);\n  }\n\n  return y;\n});","map":{"version":3,"sources":["/Users/spbiphones/Dropbox/projects/web projects/podcasts/node_modules/@vkontakte/vk-connect/dist/index.umd.js"],"names":["e","n","exports","module","define","amd","self","vkConnect","i","Object","assign","t","o","arguments","length","r","prototype","hasOwnProperty","call","apply","p","indexOf","getOwnPropertySymbols","propertyIsEnumerable","a","s","window","webkit","messageHandlers","VKWebAppClose","AndroidBridge","u","d","f","bubbles","cancelable","detail","document","createEvent","initCustomEvent","CustomEvent","Event","addEventListener","Array","data","webFrameId","connectVersion","type","frameId","forEach","l","JSON","stringify","postMessage","parent","handler","params","c","push","b","v","w","A","y","send","subscribe","sendPromise","current","next","add","resolve","reject","request_id","Promise","unsubscribe","splice","isWebView","supports","includes","V","global","vkuiConnect"],"mappings":"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","sourcesContent":["!function(e,n){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=n():\"function\"==typeof define&&define.amd?define(n):(e=e||self).vkConnect=n()}(this,function(){\"use strict\";var i=function(){return(i=Object.assign||function(e){for(var n,t=1,o=arguments.length;t<o;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e}).apply(this,arguments)};function p(e,n){var t={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&n.indexOf(o)<0&&(t[o]=e[o]);if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)n.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(t[o[r]]=e[o[r]])}return t}var n=[\"VKWebAppInit\",\"VKWebAppGetCommunityAuthToken\",\"VKWebAppAddToCommunity\",\"VKWebAppGetUserInfo\",\"VKWebAppSetLocation\",\"VKWebAppGetClientVersion\",\"VKWebAppGetPhoneNumber\",\"VKWebAppGetEmail\",\"VKWebAppGetGeodata\",\"VKWebAppSetTitle\",\"VKWebAppGetAuthToken\",\"VKWebAppCallAPIMethod\",\"VKWebAppJoinGroup\",\"VKWebAppAllowMessagesFromGroup\",\"VKWebAppDenyNotifications\",\"VKWebAppAllowNotifications\",\"VKWebAppOpenPayForm\",\"VKWebAppOpenApp\",\"VKWebAppShare\",\"VKWebAppShowWallPostBox\",\"VKWebAppScroll\",\"VKWebAppResizeWindow\",\"VKWebAppShowOrderBox\",\"VKWebAppShowLeaderBoardBox\",\"VKWebAppShowInviteBox\",\"VKWebAppShowRequestBox\",\"VKWebAppAddToFavorites\",\"VKWebAppShowCommunityWidgetPreviewBox\"],a=[],s=null,e=\"undefined\"!=typeof window,t=e&&window.webkit&&void 0!==window.webkit.messageHandlers&&void 0!==window.webkit.messageHandlers.VKWebAppClose,o=e?window.AndroidBridge:void 0,r=t?window.webkit.messageHandlers:void 0,u=e&&!o&&!r,d=u?\"message\":\"VKWebAppEvent\";function f(e,n){var t=n||{bubbles:!1,cancelable:!1,detail:void 0},o=document.createEvent(\"CustomEvent\");return o.initCustomEvent(e,!!t.bubbles,!!t.cancelable,t.detail),o}e&&(window.CustomEvent||(window.CustomEvent=(f.prototype=Event.prototype,f)),window.addEventListener(d,function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=function(){for(var e=0,n=0,t=arguments.length;n<t;n++)e+=arguments[n].length;var o=Array(e),r=0;for(n=0;n<t;n++)for(var i=arguments[n],p=0,a=i.length;p<a;p++,r++)o[r]=i[p];return o}(a);if(u&&n[0]&&\"data\"in n[0]){var o=n[0].data,r=(o.webFrameId,o.connectVersion,p(o,[\"webFrameId\",\"connectVersion\"]));r.type&&\"VKWebAppSettings\"===r.type?s=r.frameId:t.forEach(function(e){e({detail:r})})}else t.forEach(function(e){e.apply(null,n)})}));function l(e,n){void 0===n&&(n={}),o&&\"function\"==typeof o[e]&&o[e](JSON.stringify(n)),r&&r[e]&&\"function\"==typeof r[e].postMessage&&r[e].postMessage(n),u&&parent.postMessage({handler:e,params:n,type:\"vk-connect\",webFrameId:s,connectVersion:\"1.7.1\"},\"*\")}function c(e){a.push(e)}var b,v,w,A,y={send:l,subscribe:c,sendPromise:(b=l,v={current:0,next:function(){return this.current+=1,this.current}},w={},A={add:function(e){var n=v.next();return w[n]=e,n},resolve:function(e,n,t){var o=w[e];o&&(t(n)?o.resolve(n):o.reject(n),w[e]=null)}},c(function(e){if(e.detail&&e.detail.data){var n=e.detail.data,t=n.request_id,o=p(n,[\"request_id\"]);t&&A.resolve(t,o,function(e){return!(\"error_type\"in e)})}}),function(o,r){return new Promise(function(e,n){var t=A.add({resolve:e,reject:n});b(o,i(i({},r),{request_id:t}))})}),unsubscribe:function(e){var n=a.indexOf(e);-1<n&&a.splice(n,1)},isWebView:function(){return!(!o&&!r)},supports:function(e){return!(!o||\"function\"!=typeof o[e])||(!(!r||!r[e]||\"function\"!=typeof r[e].postMessage)||!(r||o||!n.includes(e)))}};if(\"object\"!=typeof exports||\"undefined\"==typeof module){var V=null;\"undefined\"!=typeof window?V=window:\"undefined\"!=typeof global?V=global:\"undefined\"!=typeof self&&(V=self),V&&(V.vkConnect=y,V.vkuiConnect=y)}return y});\n"]},"metadata":{},"sourceType":"script"}