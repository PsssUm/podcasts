{"ast":null,"code":"import { canUseDOM } from './dom';\n\nif (canUseDOM) {\n  var ElementProto = Element.prototype; // Element.prototype.matches\n\n  if (!ElementProto.matches) {\n    ElementProto.matches = ElementProto.matchesSelector || ElementProto.webkitMatchesSelector || ElementProto.mozMatchesSelector || ElementProto.msMatchesSelector;\n  } // Element.prototype.closest\n\n\n  if (!ElementProto.closest) {\n    ElementProto.closest = function (css) {\n      var node = this;\n\n      while (node) {\n        if (node.matches(css)) return node;else node = node.parentElement;\n      }\n\n      return null;\n    };\n  }\n} // Array.prototype.find\n\n\nif (!Array.prototype.find) {\n  Array.prototype.find = function (callback) {\n    if (this === null) {\n      throw new TypeError('Array.prototype.find called on null or undefined');\n    } else if (typeof callback !== 'function') {\n      throw new TypeError('callback must be a function');\n    }\n\n    var list = Object(this);\n    var length = list.length >>> 0;\n    var thisArg = arguments[1];\n\n    for (var i = 0; i < length; i++) {\n      var element = list[i];\n\n      if (callback.call(thisArg, element, i, list)) {\n        return element;\n      }\n    }\n  };\n}","map":{"version":3,"sources":["../../../src/lib/polyfills.ts"],"names":["ElementProto","Element","node","Array","list","Object","length","thisArg","arguments","i","element","callback"],"mappings":"AAAA,SAAA,SAAA,QAAA,OAAA;;AAYA,IAAA,SAAA,EAAe;AACb,MAAMA,YAAY,GAAGC,OAAO,CADf,SACb,CADa,CAGb;;AACA,MAAI,CAACD,YAAY,CAAjB,OAAA,EAA2B;AACzBA,IAAAA,YAAY,CAAZA,OAAAA,GAAwBA,YAAD,CAAA,eAACA,IACtBA,YAAY,CADS,qBAACA,IAErBA,YAAD,CAFqB,kBAACA,IAGnBA,YAAD,CAHJA,iBAAAA;AALW,GAAA,CAWb;;;AACA,MAAI,CAACA,YAAY,CAAjB,OAAA,EAA2B;AACzBA,IAAAA,YAAY,CAAZA,OAAAA,GAAuB,UAAA,GAAA,EAAsC;AAC3D,UAAIE,IAAa,GAAjB,IAAA;;AACA,aAAA,IAAA,EAAa;AACX,YAAIA,IAAI,CAAJA,OAAAA,CAAJ,GAAIA,CAAJ,EAAuB,OAAvB,IAAuB,CAAvB,KACKA,IAAI,GAAGA,IAAI,CAAXA,aAAAA;AACN;;AACD,aAAA,IAAA;AANFF,KAAAA;AAQD;EAGH;;;AACA,IAAI,CAACG,KAAK,CAALA,SAAAA,CAAL,IAAA,EAA2B;AACzBA,EAAAA,KAAK,CAALA,SAAAA,CAAAA,IAAAA,GAAuB,UAAA,QAAA,EAAmB;AACxC,QAAI,SAAJ,IAAA,EAAmB;AACjB,YAAM,IAAA,SAAA,CAAN,kDAAM,CAAN;AADF,KAAA,MAEO,IAAI,OAAA,QAAA,KAAJ,UAAA,EAAoC;AACzC,YAAM,IAAA,SAAA,CAAN,6BAAM,CAAN;AACD;;AAED,QAAIC,IAAI,GAAGC,MAAM,CAAjB,IAAiB,CAAjB;AACA,QAAIC,MAAM,GAAGF,IAAI,CAAJA,MAAAA,KAAb,CAAA;AACA,QAAIG,OAAO,GAAGC,SAAS,CAAvB,CAAuB,CAAvB;;AAEA,SAAK,IAAIC,CAAC,GAAV,CAAA,EAAgBA,CAAC,GAAjB,MAAA,EAA4BA,CAA5B,EAAA,EAAiC;AAC/B,UAAIC,OAAO,GAAGN,IAAI,CAAlB,CAAkB,CAAlB;;AACA,UAAIO,QAAQ,CAARA,IAAAA,CAAAA,OAAAA,EAAAA,OAAAA,EAAAA,CAAAA,EAAJ,IAAIA,CAAJ,EAA8C;AAC5C,eAAA,OAAA;AACD;AACF;AAhBHR,GAAAA;AAkBD","sourcesContent":["import { canUseDOM } from './dom';\n\nexport interface MatchesMethod {\n  (css: string): boolean\n}\n\nexport interface OldElement extends Element {\n  matchesSelector?: MatchesMethod,\n  mozMatchesSelector?: MatchesMethod,\n  msMatchesSelector?: MatchesMethod,\n}\n\nif (canUseDOM) {\n  const ElementProto = Element.prototype;\n\n  // Element.prototype.matches\n  if (!ElementProto.matches) {\n    ElementProto.matches = (ElementProto as OldElement).matchesSelector ||\n      ElementProto.webkitMatchesSelector ||\n      (ElementProto as OldElement).mozMatchesSelector ||\n        (ElementProto as OldElement).msMatchesSelector;\n  }\n\n  // Element.prototype.closest\n  if (!ElementProto.closest) {\n    ElementProto.closest = function(css: string): Element | null {\n      let node: Element = this;\n      while (node) {\n        if (node.matches(css)) return node;\n        else node = node.parentElement;\n      }\n      return null;\n    };\n  }\n}\n\n// Array.prototype.find\nif (!Array.prototype.find) {\n  Array.prototype.find = function(callback) {\n    if (this === null) {\n      throw new TypeError('Array.prototype.find called on null or undefined');\n    } else if (typeof callback !== 'function') {\n      throw new TypeError('callback must be a function');\n    }\n\n    let list = Object(this);\n    let length = list.length >>> 0;\n    let thisArg = arguments[1];\n\n    for (let i = 0; i < length; i++) {\n      let element = list[i];\n      if (callback.call(thisArg, element, i, list)) {\n        return element;\n      }\n    }\n  };\n}\n"]},"metadata":{},"sourceType":"module"}