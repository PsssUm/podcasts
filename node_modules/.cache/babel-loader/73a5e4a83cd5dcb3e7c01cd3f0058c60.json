{"ast":null,"code":"import _classCallCheck from\"/Users/spbiphones/Dropbox/projects/web projects/podcasts/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/spbiphones/Dropbox/projects/web projects/podcasts/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/spbiphones/Dropbox/projects/web projects/podcasts/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/spbiphones/Dropbox/projects/web projects/podcasts/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/Users/spbiphones/Dropbox/projects/web projects/podcasts/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/spbiphones/Dropbox/projects/web projects/podcasts/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import{View,Panel,Root,PanelHeader}from'@vkontakte/vkui';import Navbar from'./panels/Navbar';import'@vkontakte/vkui/dist/vkui.css';import'./resources/styles/style.css';import CreateNewDonation from'./pages/CreateNewDonation';import DonationTypes from'./pages/DonationTypes';import DonationQuestions from'./pages/DonationQuestions';import{getEpmtyModel}from'./utils/Utils';import DonationOptions from'./pages/DonationOptions';import DonationPostEditor from'./pages/DonationPostEditor';import EditorNavbar from'./panels/EditorNavbar';import News from'./pages/News';import Details from'./pages/Details';var Application=/*#__PURE__*/function(_React$Component){_inherits(Application,_React$Component);function Application(){var _this;_classCallCheck(this,Application);_this=_possibleConstructorReturn(this,_getPrototypeOf(Application).call(this));_this.state={activeView:'create',pickedType:'target',donation:getEpmtyModel(),send:false,news:[],post:{}};_this.changePage=_this.changePage.bind(_assertThisInitialized(_this));_this.onTypePicked=_this.onTypePicked.bind(_assertThisInitialized(_this));_this.onDonationChanged=_this.onDonationChanged.bind(_assertThisInitialized(_this));_this.onSend=_this.onSend.bind(_assertThisInitialized(_this));_this.addNews=_this.addNews.bind(_assertThisInitialized(_this));_this.openDetails=_this.openDetails.bind(_assertThisInitialized(_this));return _this;}_createClass(Application,[{key:\"changePage\",value:function changePage(page){this.setState({activeView:page});}},{key:\"onTypePicked\",value:function onTypePicked(type){this.setState({activeView:\"questions\",pickedType:type});}},{key:\"onDonationChanged\",value:function onDonationChanged(donation){this.setState({donation:donation});}},{key:\"onSend\",value:function onSend(){this.setState({send:!this.state.send});}},{key:\"addNews\",value:function addNews(post){var news=this.state.news;news.push(post);this.setState({news:news,activeView:\"news\"});}},{key:\"openDetails\",value:function openDetails(post){this.setState({post:post,activeView:\"details\"});}},{key:\"render\",value:function render(){return React.createElement(Root,{activeView:this.state.activeView},React.createElement(View,{id:\"create\",activePanel:\"create_panel\"},React.createElement(Panel,{style:{backgroundColor:\"white\"},id:\"create_panel\"},React.createElement(PanelHeader,null,React.createElement(Navbar,{title:\"\\u041F\\u043E\\u0436\\u0435\\u0440\\u0442\\u0432\\u043E\\u0432\\u0430\\u043D\\u0438\\u044F\"})),React.createElement(CreateNewDonation,{changePage:this.changePage}))),React.createElement(View,{id:\"type\",activePanel:\"type_panel\"},React.createElement(Panel,{id:\"type_panel\"},React.createElement(PanelHeader,null,React.createElement(Navbar,{back:\"create\",onBack:this.changePage,title:\"\\u0422\\u0438\\u043F \\u0441\\u0431\\u043E\\u0440\\u0430\"})),React.createElement(DonationTypes,{onTypePicked:this.onTypePicked}))),React.createElement(View,{id:\"questions\",activePanel:\"questions_panel\"},React.createElement(Panel,{id:\"questions_panel\"},React.createElement(PanelHeader,null,React.createElement(Navbar,{back:\"type\",onBack:this.changePage,title:\"\\u0426\\u0435\\u043B\\u0435\\u0432\\u043E\\u0439 \\u0441\\u0431\\u043E\\u0440\",isShowLine:false})),React.createElement(DonationQuestions,{onDonationChanged:this.onDonationChanged,changePage:this.changePage,type:this.state.pickedType}))),React.createElement(View,{id:\"options\",activePanel:\"options_panel\"},React.createElement(Panel,{id:\"options_panel\"},React.createElement(PanelHeader,null,React.createElement(Navbar,{back:\"questions\",onBack:this.changePage,title:\"\\u041E\\u0444\\u043E\\u0440\\u043C\\u043B\\u0435\\u043D\\u0438\\u0435\"})),React.createElement(DonationOptions,{donation:this.state.donation,onDonationChanged:this.onDonationChanged,changePage:this.changePage,type:this.state.pickedType}))),React.createElement(View,{id:\"editor\",activePanel:\"editor_panel\"},React.createElement(Panel,{id:\"editor_panel\"},React.createElement(PanelHeader,null,React.createElement(EditorNavbar,{onSend:this.onSend,back:\"options\",onBack:this.changePage,title:\"\\u041C\\u0430\\u0442\\u0432\\u0435\\u0439\"})),React.createElement(DonationPostEditor,{addNews:this.addNews,send:this.state.send,donation:this.state.donation,onDonationChanged:this.onDonationChanged,changePage:this.changePage,type:this.state.pickedType}))),React.createElement(View,{id:\"news\",activePanel:\"news_panel\"},React.createElement(Panel,{id:\"news_panel\"},React.createElement(PanelHeader,null,React.createElement(Navbar,{back:\"create\",onBack:this.changePage,title:\"\\u041D\\u043E\\u0432\\u043E\\u0441\\u0442\\u0438\"})),React.createElement(News,{openDetails:this.openDetails,news:this.state.news.reverse(),changePage:this.changePage}))),React.createElement(View,{id:\"details\",activePanel:\"details_panel\"},React.createElement(Panel,{id:\"details_panel\"},React.createElement(PanelHeader,null,React.createElement(Navbar,{back:\"news\",onBack:this.changePage,title:\"\\u0418\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0438\\u044F\",isShowLine:false})),React.createElement(Details,{donation:this.state.post,changePage:this.changePage}))));}}]);return Application;}(React.Component);export default Application;","map":{"version":3,"sources":["/Users/spbiphones/Dropbox/projects/web projects/podcasts/src/Application.js"],"names":["React","View","Panel","Root","PanelHeader","Navbar","CreateNewDonation","DonationTypes","DonationQuestions","getEpmtyModel","DonationOptions","DonationPostEditor","EditorNavbar","News","Details","Application","state","activeView","pickedType","donation","send","news","post","changePage","bind","onTypePicked","onDonationChanged","onSend","addNews","openDetails","page","setState","type","push","backgroundColor","reverse","Component"],"mappings":"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","sourcesContent":["import React from 'react';\n\nimport { View, Panel, Root, PanelHeader } from '@vkontakte/vkui';\nimport Navbar from './panels/Navbar';\n\nimport '@vkontakte/vkui/dist/vkui.css';\nimport './resources/styles/style.css';\nimport CreateNewDonation from './pages/CreateNewDonation';\nimport DonationTypes from './pages/DonationTypes';\nimport DonationQuestions from './pages/DonationQuestions';\nimport { getEpmtyModel } from './utils/Utils';\nimport DonationOptions from './pages/DonationOptions';\nimport DonationPostEditor from './pages/DonationPostEditor';\nimport EditorNavbar from './panels/EditorNavbar';\nimport News from './pages/News';\nimport Details from './pages/Details';\n\nclass Application extends React.Component {\n    \n    constructor(){\n        super()\n        this.state = {\n            activeView : 'create',\n            pickedType : 'target',\n            donation : getEpmtyModel(),\n            send : false,\n            news : [],\n            post : {}\n        }\n        this.changePage = this.changePage.bind(this);\n        this.onTypePicked = this.onTypePicked.bind(this);\n        this.onDonationChanged = this.onDonationChanged.bind(this);\n        this.onSend = this.onSend.bind(this);\n        this.addNews = this.addNews.bind(this);\n        this.openDetails = this.openDetails.bind(this);\n    }\n    changePage(page){\n        this.setState({activeView : page})\n    }\n    onTypePicked(type){\n        this.setState({activeView : \"questions\", pickedType : type})\n    }\n    onDonationChanged(donation){\n        this.setState({donation : donation})\n    }\n    onSend(){\n        this.setState({send : !this.state.send})\n    }\n    addNews(post){\n        var news = this.state.news\n        news.push(post)\n        this.setState({news : news, activeView : \"news\"})\n        \n    }\n    openDetails(post){\n        this.setState({post : post, activeView : \"details\"})\n    }\n    render() {\n        return (\n            <Root activeView={this.state.activeView}>\n                <View id=\"create\" activePanel=\"create_panel\">\n                    <Panel style={{backgroundColor : \"white\"}} id=\"create_panel\">\n                        <PanelHeader>\n                            <Navbar title=\"Пожертвования\"/>\n                        </PanelHeader>\n                        <CreateNewDonation changePage={this.changePage}/>\n                    </Panel>\n                    \n                </View>\n                <View id=\"type\" activePanel=\"type_panel\">\n                    <Panel id=\"type_panel\">\n                        <PanelHeader>\n                            <Navbar back=\"create\" onBack={this.changePage} title=\"Тип сбора\"/>\n                        </PanelHeader>\n                        <DonationTypes onTypePicked={this.onTypePicked}/>\n                    </Panel>\n                </View>\n\n                <View id=\"questions\" activePanel=\"questions_panel\">\n                    <Panel id=\"questions_panel\">\n                        <PanelHeader>\n                            <Navbar back=\"type\" onBack={this.changePage} title=\"Целевой сбор\" isShowLine={false}/>\n                        </PanelHeader>\n                        <DonationQuestions onDonationChanged={this.onDonationChanged} changePage={this.changePage} type={this.state.pickedType}/>\n                    </Panel>\n                </View>\n\n                <View id=\"options\" activePanel=\"options_panel\">\n                    <Panel id=\"options_panel\">\n                        <PanelHeader>\n                            <Navbar back=\"questions\" onBack={this.changePage} title=\"Оформление\"/>\n                        </PanelHeader>\n                        <DonationOptions donation={this.state.donation} onDonationChanged={this.onDonationChanged} changePage={this.changePage} type={this.state.pickedType}/>\n                    </Panel>\n                </View>\n\n                <View id=\"editor\" activePanel=\"editor_panel\">\n                    <Panel id=\"editor_panel\">\n                        <PanelHeader>\n                            <EditorNavbar onSend={this.onSend} back=\"options\" onBack={this.changePage} title=\"Матвей\"/>\n                        </PanelHeader>\n                        <DonationPostEditor addNews={this.addNews} send={this.state.send} donation={this.state.donation} onDonationChanged={this.onDonationChanged} changePage={this.changePage} type={this.state.pickedType}/>\n                    </Panel>\n                </View>\n\n                <View id=\"news\" activePanel=\"news_panel\">\n                    <Panel id=\"news_panel\">\n                        <PanelHeader>\n                            <Navbar back=\"create\" onBack={this.changePage} title=\"Новости\"/>\n                        </PanelHeader>\n                        <News openDetails={this.openDetails} news={this.state.news.reverse()} changePage={this.changePage}/>\n                    </Panel>\n                </View>\n\n                <View id=\"details\" activePanel=\"details_panel\">\n                    <Panel id=\"details_panel\">\n                        <PanelHeader>\n                            <Navbar back=\"news\" onBack={this.changePage} title=\"Информация\" isShowLine={false}/>\n                        </PanelHeader>\n                        <Details donation={this.state.post} changePage={this.changePage}/>\n                    </Panel>\n                </View>\n            </Root>\n            \n            \n        );\n    }\n}\nexport default Application;\n\n\n"]},"metadata":{},"sourceType":"module"}